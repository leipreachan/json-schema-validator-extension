!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ajv7=e()}(function(){return function a(s,o,n){function i(t,e){if(!o[t]){if(!s[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=o[t]={exports:{}},s[t][0].call(r.exports,function(e){return i(s[t][1][e]||e)},r,r.exports,a,s,o,n)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<n.length;e++)i(n[e]);return i}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.regexpCode=r.getEsmExportName=r.getProperty=r.safeStringify=r.stringify=r.strConcat=r.addCodeArg=r.str=r._=r.nil=r._Code=r.Name=r.IDENTIFIER=r._CodeOrName=void 0;class a{}r._CodeOrName=a,r.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends a{constructor(e){if(super(),!r.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}r.Name=n;class i extends a{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(1<this._items.length)return!1;var e=this._items[0];return""===e||'""'===e}get str(){var e;return null!=(e=this._str)?e:this._str=this._items.reduce((e,t)=>""+e+t,"")}get names(){var e;return null!=(e=this._names)?e:this._names=this._items.reduce((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function s(e,...t){const r=[e[0]];let a=0;for(;a<t.length;)l(r,t[a]),r.push(e[++a]);return new i(r)}r._Code=i,r.nil=new i(""),r._=s;const c=new i("+");function o(e,...t){const r=[d(e[0])];let a=0;for(;a<t.length;)r.push(c),l(r,t[a]),r.push(c,d(e[++a]));{var s=r;let e=1;for(;e<s.length-1;){if(s[e]===c){var o=function(e,t){return'""'===t?e:'""'===e?t:"string"!=typeof e?"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:'"'+e+t.slice(1):t instanceof n||'"'!==e[e.length-1]?void 0:"string"!=typeof t?""+e.slice(0,-1)+t+'"':'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}(s[e-1],s[e+1]);if(void 0!==o){s.splice(e-1,3,o);continue}s[e++]="+"}e++}}return new i(r)}function l(e,t){t instanceof i?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(e=t)||"boolean"==typeof e||null===e?e:d(Array.isArray(e)?e.join(","):e))}function d(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}r.str=o,r.addCodeArg=l,r.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:o`${e}${t}`},r.stringify=function(e){return new i(d(e))},r.safeStringify=d,r.getProperty=function(e){return"string"==typeof e&&r.IDENTIFIER.test(e)?new i("."+e):s`[${e}]`},r.getEsmExportName=function(e){if("string"==typeof e&&r.IDENTIFIER.test(e))return new i(""+e);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)},r.regexpCode=function(e){return new i(e.toString())}},{}],2:[function(e,A,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.or=r.and=r.not=r.CodeGen=r.operators=r.varKinds=r.ValueScopeName=r.ValueScope=r.Scope=r.Name=r.regexpCode=r.stringify=r.getProperty=r.nil=r.strConcat=r.str=r._=void 0;const n=e("./code"),i=e("./scope");var t=e("./code"),a=(Object.defineProperty(r,"_",{enumerable:!0,get:function(){return t._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return t.str}}),Object.defineProperty(r,"strConcat",{enumerable:!0,get:function(){return t.strConcat}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return t.nil}}),Object.defineProperty(r,"getProperty",{enumerable:!0,get:function(){return t.getProperty}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return t.stringify}}),Object.defineProperty(r,"regexpCode",{enumerable:!0,get:function(){return t.regexpCode}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return t.Name}}),e("./scope"));Object.defineProperty(r,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(r,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(r,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(r,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),r.operators={GT:new n._Code(">"),GTE:new n._Code(">="),LT:new n._Code("<"),LTE:new n._Code("<="),EQ:new n._Code("==="),NEQ:new n._Code("!=="),NOT:new n._Code("!"),OR:new n._Code("||"),AND:new n._Code("&&"),ADD:new n._Code("+")};class s{optimizeNodes(){return this}optimizeNames(e,t){return this}}class o extends s{constructor(e,t,r){super(),this.varKind=e,this.name=t,this.rhs=r}render({es5:e,_n:t}){var e=e?i.varKinds.var:this.varKind,r=void 0===this.rhs?"":" = "+this.rhs;return`${e} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=I(this.rhs,e,t)),this}get names(){return this.rhs instanceof n._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(e,t,r){super(),this.lhs=e,this.rhs=t,this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof n.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=I(this.rhs,e,t),this}get names(){return O(this.lhs instanceof n.Name?{}:{...this.lhs.names},this.rhs)}}class l extends c{constructor(e,t,r,a){super(e,r,a),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class d extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return this.label+":"+e}}class u extends s{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?" "+this.label:""};`+e}}class m extends s{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends s{constructor(e){super(),this.code=e}render({_n:e}){return this.code+";"+e}optimizeNodes(){return""+this.code?this:void 0}optimizeNames(e,t){return this.code=I(this.code,e,t),this}get names(){return this.code instanceof n._CodeOrName?this.code.names:{}}}class f extends s{constructor(e=[]){super(),this.nodes=e}render(r){return this.nodes.reduce((e,t)=>e+t.render(r),"")}optimizeNodes(){const e=this["nodes"];let t=e.length;for(;t--;){var r=e[t].optimizeNodes();Array.isArray(r)?e.splice(t,1,...r):r?e[t]=r:e.splice(t,1)}return 0<e.length?this:void 0}optimizeNames(e,t){const r=this["nodes"];let a=r.length;for(;a--;){const n=r[a];if(!n.optimizeNames(e,t)){o=s=void 0;var s=e,o=n.names;for(const i in o)s[i]=(s[i]||0)-(o[i]||0);r.splice(a,1)}}return 0<r.length?this:void 0}get names(){return this.nodes.reduce((e,t)=>j(e,t.names),{})}}class h extends f{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends f{}class v extends h{}v.kind="else";class g extends h{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();var e,t=this.condition;if(!0===t)return this.nodes;let r=this.else;return r&&(e=r.optimizeNodes(),r=this.else=Array.isArray(e)?new v(e):e),r?!1===t?r instanceof g?r:r.nodes:this.nodes.length?this:new g(C(t),r instanceof g?[r]:r.nodes):!1!==t&&this.nodes.length?this:void 0}optimizeNames(e,t){var r;if(this.else=null==(r=this.else)?void 0:r.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=I(this.condition,e,t),this}get names(){var e=super.names;return O(e,this.condition),this.else&&j(e,this.else.names),e}}g.kind="if";class $ extends h{}$.kind="for";class _ extends ${constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=I(this.iteration,e,t),this}get names(){return j(super.names,this.iteration.names)}}class w extends ${constructor(e,t,r,a){super(),this.varKind=e,this.name=t,this.from=r,this.to=a}render(e){var{name:t,from:r,to:a}=this;return`for(${e.es5?i.varKinds.var:this.varKind} ${t}=${r}; ${t}<${a}; ${t}++)`+super.render(e)}get names(){var e=O(super.names,this.from);return O(e,this.to)}}class b extends ${constructor(e,t,r,a){super(),this.loop=e,this.varKind=t,this.name=r,this.iterable=a}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=I(this.iterable,e,t),this}get names(){return j(super.names,this.iterable.names)}}class P extends h{constructor(e,t,r){super(),this.name=e,this.args=t,this.async=r}render(e){return(this.async?"async ":"")+`function ${this.name}(${this.args})`+super.render(e)}}P.kind="func";class E extends f{render(e){return"return "+super.render(e)}}E.kind="return";class S extends h{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e;return super.optimizeNodes(),null!=(e=this.catch)&&e.optimizeNodes(),null!=(e=this.finally)&&e.optimizeNodes(),this}optimizeNames(e,t){var r;return super.optimizeNames(e,t),null!=(r=this.catch)&&r.optimizeNames(e,t),null!=(r=this.finally)&&r.optimizeNames(e,t),this}get names(){var e=super.names;return this.catch&&j(e,this.catch.names),this.finally&&j(e,this.finally.names),e}}class k extends h{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind="catch";class N extends h{render(e){return"finally"+super.render(e)}}N.kind="finally";function j(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function O(e,t){return t instanceof n._CodeOrName?j(e,t.names):e}function I(e,r,a){return e instanceof n.Name?s(e):(t=e)instanceof n._Code&&t._items.some(e=>e instanceof n.Name&&1===r[e.str]&&void 0!==a[e.str])?new n._Code(e._items.reduce((e,t)=>((t=t instanceof n.Name?s(t):t)instanceof n._Code?e.push(...t._items):e.push(t),e),[])):e;var t;function s(e){var t=a[e.str];return void 0===t||1!==r[e.str]?e:(delete r[e.str],t)}}function C(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,n._)`!${M(e)}`}r.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new i.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){e=this._extScope.value(e,t);const r=this._values[e.prefix]||(this._values[e.prefix]=new Set);return r.add(e),e}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,a){t=this._scope.toName(t);return void 0!==r&&a&&(this._constants[t.str]=r),this._leafNode(new o(e,t,r)),t}const(e,t,r){return this._def(i.varKinds.const,e,t,r)}let(e,t,r){return this._def(i.varKinds.let,e,t,r)}var(e,t,r){return this._def(i.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new c(e,t,r))}add(e,t){return this._leafNode(new l(e,r.operators.ADD,t))}code(e){return"function"==typeof e?e():e!==n.nil&&this._leafNode(new p(e)),this}object(...e){const t=["{"];for(var[r,a]of e)1<t.length&&t.push(","),t.push(r),r===a&&!this.opts.es5||(t.push(":"),(0,n.addCodeArg)(t,a));return t.push("}"),new n._Code(t)}if(e,t,r){if(this._blockNode(new g(e)),t&&r)this.code(t).else().code(r).endIf();else if(t)this.code(t).endIf();else if(r)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new g(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(g,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new _(e),t)}forRange(e,t,r,a,s=this.opts.es5?i.varKinds.var:i.varKinds.let){const o=this._scope.toName(e);return this._for(new w(s,o,t,r),()=>a(o))}forOf(e,t,r,a=i.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const o=t instanceof n.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,n._)`${o}.length`,e=>{this.var(s,(0,n._)`${o}[${e}]`),r(s)})}return this._for(new b("of",a,s,t),()=>r(s))}forIn(e,t,r,a=this.opts.es5?i.varKinds.var:i.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,n._)`Object.keys(${t})`,r);const s=this._scope.toName(e);return this._for(new b("in",a,s,t),()=>r(s))}endFor(){return this._endBlockNode($)}label(e){return this._leafNode(new d(e))}break(e){return this._leafNode(new u(e))}return(e){var t=new E;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const a=new S;return this._blockNode(a),this.code(e),t&&(e=this.name("e"),this._currNode=a.catch=new k(e),t(e)),r&&(this._currNode=a.finally=new N,this.code(r)),this._endBlockNode(k,N)}throw(e){return this._leafNode(new m(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){var t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");var r=this._nodes.length-t;if(r<0||void 0!==e&&r!==e)throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=n.nil,r,a){return this._blockNode(new P(e,t,r)),a&&this.code(a).endFunc(),this}endFunc(){return this._endBlockNode(P)}optimize(e=1){for(;0<e--;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){var r=this._currNode;if(r instanceof e||t&&r instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?e.kind+"/"+t.kind:e.kind}"`)}_elseNode(e){const t=this._currNode;if(t instanceof g)return this._currNode=t.else=e,this;throw new Error('CodeGen: "else" without "if"')}get _root(){return this._nodes[0]}get _currNode(){var e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},r.not=C;const x=R(r.operators.AND);r.and=function(...e){return e.reduce(x)};const T=R(r.operators.OR);function R(r){return(e,t)=>e===n.nil?t:t===n.nil?e:(0,n._)`${M(e)} ${r} ${M(t)}`}function M(e){return e instanceof n.Name?e:(0,n._)`(${e})`}r.or=function(...e){return e.reduce(T)}},{"./code":1,"./scope":3}],3:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ValueScope=c.ValueScopeName=c.Scope=c.varKinds=c.UsedValueState=void 0;const l=e("./code");class d extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var u;(e=u||(c.UsedValueState=u={}))[e.Started=0]="Started",e[e.Completed=1]="Completed",c.varKinds={const:new l.Name("const"),let:new l.Name("let"),var:new l.Name("var")};class r{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof l.Name?e:this.name(e)}name(e){return new l.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return""+e+t.index++}_nameGroup(e){var t;if(null!=(t=null==(t=this._parent)?void 0:t._prefixes)&&t.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}c.Scope=r;class a extends l.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e,this.scopePath=(0,l._)`.${new l.Name(t)}[${r}]`}}c.ValueScopeName=a;const s=(0,l._)`\n`;c.ValueScope=class extends r{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?s:l.nil}}get(){return this._scope}name(e){return new a(e,this._newName(e))}value(e,t){if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e);var e=r["prefix"],a=null!=(a=t.key)?a:t.ref;let s=this._values[e];if(s){var o=s.get(a);if(o)return o}else s=this._values[e]=new Map;s.set(a,r);const n=this._scope[e]||(this._scope[e]=[]);o=n.length;return n[o]=t.ref,r.setValue(t,{property:e,itemIndex:o}),r}getValue(e,t){const r=this._values[e];if(r)return r.get(t)}scopeRefs(t,e=this._values){return this._reduceValues(e,e=>{if(void 0===e.scopePath)throw new Error(`CodeGen: name "${e}" has no value`);return(0,l._)`${t}${e.scopePath}`})}scopeCode(e=this._values,t,r){return this._reduceValues(e,e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,r)}_reduceValues(e,a,t={},s){let o=l.nil;for(const r in e){const n=e[r];if(n){const i=t[r]=t[r]||new Map;n.forEach(t=>{if(!i.has(t)){i.set(t,u.Started);let e=a(t);if(e){var r=this.opts.es5?c.varKinds.var:c.varKinds.const;o=(0,l._)`${o}${r} ${t} = ${e};${this.opts._n}`}else{if(!(e=null==s?void 0:s(t)))throw new d(t);o=(0,l._)`${o}${e}${this.opts._n}`}i.set(t,u.Completed)}})}}return o}}},{"./code":1}],4:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extendErrors=c.resetErrorsCount=c.reportExtraError=c.reportError=c.keyword$DataError=c.keywordError=void 0;const f=e("./codegen"),h=e("./util"),y=e("./names");function l(e,t){const r=e.const("err",t);e.if((0,f._)`${y.default.vErrors} === null`,()=>e.assign(y.default.vErrors,(0,f._)`[${r}]`),(0,f._)`${y.default.vErrors}.push(${r})`),e.code((0,f._)`${y.default.errors}++`)}function d(e,t){const{gen:r,validateName:a,schemaEnv:s}=e;s.$async?r.throw((0,f._)`new ${e.ValidationError}(${t})`):(r.assign((0,f._)`${a}.errors`,t),r.return(!1))}c.keywordError={message:({keyword:e})=>(0,f.str)`must pass "${e}" keyword validation`},c.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,f.str)`"${e}" keyword must be ${t} ($data)`:(0,f.str)`"${e}" keyword is invalid ($data)`},c.reportError=function(e,t=c.keywordError,r,a){var s=e["it"],{gen:o,compositeRule:n,allErrors:i}=s,e=u(e,t,r);(null!=a?a:n||i)?l(o,e):d(s,(0,f._)`[${e}]`)},c.reportExtraError=function(e,t=c.keywordError,r){var a=e["it"],{gen:s,compositeRule:o,allErrors:n}=a;l(s,u(e,t,r)),o||n||d(a,y.default.vErrors)},c.resetErrorsCount=function(e,t){e.assign(y.default.errors,t),e.if((0,f._)`${y.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,f._)`${y.default.vErrors}.length`,t),()=>e.assign(y.default.vErrors,null)))},c.extendErrors=function({gen:t,keyword:r,schemaValue:a,data:s,errsCount:e,it:o}){if(void 0===e)throw new Error("ajv implementation error");const n=t.name("err");t.forRange("i",e,y.default.errors,e=>{t.const(n,(0,f._)`${y.default.vErrors}[${e}]`),t.if((0,f._)`${n}.instancePath === undefined`,()=>t.assign((0,f._)`${n}.instancePath`,(0,f.strConcat)(y.default.instancePath,o.errorPath))),t.assign((0,f._)`${n}.schemaPath`,(0,f.str)`${o.errSchemaPath}/${r}`),o.opts.verbose&&(t.assign((0,f._)`${n}.schema`,a),t.assign((0,f._)`${n}.data`,s))})};const v={keyword:new f.Name("keyword"),schemaPath:new f.Name("schemaPath"),params:new f.Name("params"),propertyName:new f.Name("propertyName"),message:new f.Name("message"),schema:new f.Name("schema"),parentSchema:new f.Name("parentSchema")};function u(e,t,r){var a=e.it["createErrors"];if(!1===a)return(0,f._)`{}`;{var[a,e,t={}]=[e,t,r];const{gen:u,it:m}=a,p=[function({errorPath:e},{instancePath:t}){t=t?(0,f.str)`${e}${(0,h.getErrorPath)(t,h.Type.Str)}`:e;return[y.default.instancePath,(0,f.strConcat)(y.default.instancePath,t)]}(m,t),function({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:a}){let s=a?t:(0,f.str)`${t}/${e}`;r&&(s=(0,f.str)`${s}${(0,h.getErrorPath)(r,h.Type.Str)}`);return[v.schemaPath,s]}(a,t)];var[r,{params:t,message:a},e]=[a,e,p],{keyword:s,data:o,schemaValue:n,it:i}=r,{opts:i,propertyName:c,topSchemaRef:l,schemaPath:d}=i;return e.push([v.keyword,s],[v.params,"function"==typeof t?t(r):t||(0,f._)`{}`]),i.messages&&e.push([v.message,"function"==typeof a?a(r):a]),i.verbose&&e.push([v.schema,n],[v.parentSchema,(0,f._)`${l}${d}`],[y.default.data,o]),c&&e.push([v.propertyName,c]),u.object(...p)}}},{"./codegen":2,"./names":6,"./util":10}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveSchema=r.getCompilingSchema=r.resolveRef=r.compileSchema=r.SchemaEnv=void 0;const p=e("./codegen"),f=e("../runtime/validation_error"),h=e("./names"),y=e("./resolve"),c=e("./util"),v=e("./validate");class l{constructor(e){var t;this.refs={},this.dynamicAnchors={};let r;"object"==typeof e.schema&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!=(t=e.baseId)?t:(0,y.normalizeId)(null===r||void 0===r?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===r||void 0===r?void 0:r.$async,this.refs={}}}function i(t){var e=g.call(this,t);if(e)return e;var e=(0,y.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:a}=this.opts.code,s=this.opts["ownProperties"];const o=new p.CodeGen(this.scope,{es5:r,lines:a,ownProperties:s});let n;t.$async&&(n=o.scopeValue("Error",{ref:f.default,code:(0,p._)`require("ajv/dist/runtime/validation_error").default`}));r=o.scopeName("validate"),t.validateName=r,a={gen:o,allErrors:this.opts.allErrors,data:h.default.data,parentData:h.default.parentData,parentDataProperty:h.default.parentDataProperty,dataNames:[h.default.data],dataPathArr:[p.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",!0===this.opts.code.source?{ref:t.schema,code:(0,p.stringify)(t.schema)}:{ref:t.schema}),validateName:r,ValidationError:n,schema:t.schema,schemaEnv:t,rootId:e,baseId:t.baseId||e,schemaPath:p.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,p._)`""`,opts:this.opts,self:this};let i;try{this._compilations.add(t),(0,v.validateFunctionCode)(a),o.optimize(this.opts.code.optimize);var c,l,d=o.toString();i=o.scopeRefs(h.default.scope)+"return "+d,this.opts.code.process&&(i=this.opts.code.process(i,t));const u=new Function(""+h.default.self,""+h.default.scope,i),m=u(this,this.scope.get());return this.scope.value(r,{ref:m}),m.errors=null,m.schema=t.schema,(m.schemaEnv=t).$async&&(m.$async=!0),!0===this.opts.code.source&&(m.source={validateName:r,validateCode:d,scopeValues:o._values}),this.opts.unevaluated&&({props:c,items:l}=a,m.evaluated={props:c instanceof p.Name?void 0:c,items:l instanceof p.Name?void 0:l,dynamicProps:c instanceof p.Name,dynamicItems:l instanceof p.Name},m.source&&(m.source.evaluated=(0,p.stringify)(m.evaluated))),t.validate=m,t}catch(e){throw delete t.validate,delete t.validateName,i&&this.logger.error("Error compiling schema, function code:",i),e}finally{this._compilations.delete(t)}}function g(e){for(const a of this._compilations)if(t=a,r=e,t.schema===r.schema&&t.root===r.root&&t.baseId===r.baseId)return a;var t,r}function d(e,t){var r=this.opts.uriResolver.parse(t),a=(0,y._getFullPath)(this.opts.uriResolver,r);let s=(0,y.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(0<Object.keys(e.schema).length&&a===s)return m.call(this,r,e);var o,a=(0,y.normalizeId)(a),n=this.refs[a]||this.schemas[a];if("string"==typeof n)return"object"!=typeof(null==(o=d.call(this,e,n))?void 0:o.schema)?void 0:m.call(this,r,o);if("object"==typeof(null==n?void 0:n.schema))return n.validate||i.call(this,n),a===(0,y.normalizeId)(t)?(o=n["schema"],a=this.opts["schemaId"],(t=o[a])&&(s=(0,y.resolveUrl)(this.opts.uriResolver,s,t)),new l({schema:o,schemaId:a,root:e,baseId:s})):m.call(this,r,n)}r.SchemaEnv=l,r.compileSchema=i,r.resolveRef=function(e,t,r){r=(0,y.resolveUrl)(this.opts.uriResolver,t,r);var a,s=e.refs[r];if(s)return s;let o=function(e,t){let r;for(;"string"==typeof(r=this.refs[t]);)t=r;return r||this.schemas[t]||d.call(this,e,t)}.call(this,e,r);return void 0===o&&(s=null==(s=e.localRefs)?void 0:s[r],a=this.opts["schemaId"],s&&(o=new l({schema:s,schemaId:a,root:e,baseId:t}))),void 0!==o?e.refs[r]=function(e){return(0,y.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:i.call(this,e)}.call(this,o):void 0},r.getCompilingSchema=g,r.resolveSchema=d;const u=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(t,{baseId:r,schema:a,root:s}){if("/"===(null==(n=t.fragment)?void 0:n[0])){for(const i of t.fragment.slice(1).split("/")){if("boolean"==typeof a)return;var o=a[(0,c.unescapeFragment)(i)];if(void 0===o)return;o="object"==typeof(a=o)&&a[this.opts.schemaId];!u.has(i)&&o&&(r=(0,y.resolveUrl)(this.opts.uriResolver,r,o))}let e;var n,t=("boolean"!=typeof a&&a.$ref&&!(0,c.schemaHasRulesButRef)(a,this.RULES)&&(n=(0,y.resolveUrl)(this.opts.uriResolver,r,a.$ref),e=d.call(this,s,n)),this.opts)["schemaId"];return(e=e||new l({schema:a,schemaId:t,root:s,baseId:r})).schema!==e.root.schema?e:void 0}}},{"../runtime/validation_error":24,"./codegen":2,"./names":6,"./resolve":8,"./util":10,"./validate":15}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./codegen");e={data:new a.Name("data"),valCxt:new a.Name("valCxt"),instancePath:new a.Name("instancePath"),parentData:new a.Name("parentData"),parentDataProperty:new a.Name("parentDataProperty"),rootData:new a.Name("rootData"),dynamicAnchors:new a.Name("dynamicAnchors"),vErrors:new a.Name("vErrors"),errors:new a.Name("errors"),this:new a.Name("this"),self:new a.Name("self"),scope:new a.Name("scope"),json:new a.Name("json"),jsonPos:new a.Name("jsonPos"),jsonLen:new a.Name("jsonLen"),jsonPart:new a.Name("jsonPart")};r.default=e},{"./codegen":2}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("./resolve");class a extends Error{constructor(e,t,r,a){super(a||`can't resolve reference ${r} from id `+t),this.missingRef=(0,s.resolveUrl)(e,t,r),this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(e,this.missingRef))}}r.default=a},{"./resolve":8}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSchemaRefs=r.resolveUrl=r.normalizeId=r._getFullPath=r.getFullPath=r.inlineRef=void 0;const s=e("./util"),a=e("fast-deep-equal"),o=e("json-schema-traverse"),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);r.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&function t(e){let r=0;for(const a in e){if("$ref"===a)return 1/0;if(r++,!n.has(a)&&("object"==typeof e[a]&&(0,s.eachItem)(e[a],e=>r+=t(e)),r===1/0))return 1/0}return r}(e)<=t)};const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(i.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(c))return!0;if("object"==typeof r&&c(r))return!0}return!1}function h(e,t="",r){!1!==r&&(t=y(t));r=e.parse(t);return l(e,r)}function l(e,t){const r=e.serialize(t);return r.split("#")[0]+"#"}r.getFullPath=h,r._getFullPath=l;const d=/#\/?$/;function y(e){return e?e.replace(d,""):""}r.normalizeId=y,r.resolveUrl=function(e,t,r){return r=y(r),e.resolve(t,r)};const v=/^[a-z_][-a-z0-9._]*$/i;r.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:c,uriResolver:r}=this.opts,l={"":t=y(e[c]||t)},d=h(r,t,!1),u={},m=new Set;return o(e,{allKeys:!0},(s,e,t,r)=>{if(void 0!==r){const i=d+e;let a=l[r];function o(e){const t=this.opts.uriResolver.resolve;if(e=y(a?t(a,e):e),m.has(e))throw f(e);m.add(e);let r=this.refs[e];return"object"==typeof(r="string"==typeof r?this.refs[r]:r)?p(s,r.schema,e):e!==y(i)&&("#"===e[0]?(p(s,u[e],e),u[e]=s):this.refs[e]=i),e}function n(e){if("string"==typeof e){if(!v.test(e))throw new Error(`invalid anchor "${e}"`);o.call(this,"#"+e)}}"string"==typeof s[c]&&(a=o.call(this,s[c])),n.call(this,s.$anchor),n.call(this,s.$dynamicAnchor),l[e]=a}}),u;function p(e,t,r){if(void 0!==t&&!a(e,t))throw f(r)}function f(e){return new Error(`reference "${e}" resolves to more than one schema`)}}},{"./util":10,"fast-deep-equal":63,"json-schema-traverse":68}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getRules=r.isJSONType=void 0;const a=new Set(["string","number","integer","boolean","null","object","array"]);r.isJSONType=function(e){return"string"==typeof e&&a.has(e)},r.getRules=function(){var e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.checkStrictMode=r.getErrorPath=r.Type=r.useFunc=r.setEvaluated=r.evaluatedPropsToName=r.mergeEvaluated=r.eachItem=r.unescapeJsonPointer=r.escapeJsonPointer=r.escapeFragment=r.unescapeFragment=r.schemaRefOrVal=r.schemaHasRulesButRef=r.schemaHasRules=r.checkUnknownRules=r.alwaysValidSchema=r.toHash=void 0;const c=e("./codegen"),a=e("./codegen/code");function s(e,t=e.schema){var{opts:r,self:a}=e;if(r.strictSchema&&"boolean"!=typeof t){var s=a.RULES.keywords;for(const o in t)s[o]||f(e,`unknown keyword: "${o}"`)}}function o(e,t){if("boolean"==typeof e)return!e;for(const r in e)if(t[r])return!0;return!1}function n(e){return"number"==typeof e?""+e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function l({mergeNames:s,mergeToName:o,mergeValues:n,resultToName:i}){return(e,t,r,a)=>{t=void 0===r?t:r instanceof c.Name?((t instanceof c.Name?s:o)(e,t,r),r):t instanceof c.Name?(o(e,r,t),t):n(t,r);return a!==c.Name||t instanceof c.Name?t:i(e,t)}}function d(e,t){if(!0===t)return e.var("props",!0);var r=e.var("props",(0,c._)`{}`);return void 0!==t&&u(e,r,t),r}function u(t,r,e){Object.keys(e).forEach(e=>t.assign((0,c._)`${r}${(0,c.getProperty)(e)}`,!0))}r.toHash=function(e){const t={};for(const r of e)t[r]=!0;return t},r.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(s(e,t),!o(t,e.self.RULES.all))},r.checkUnknownRules=s,r.schemaHasRules=o,r.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const r in e)if("$ref"!==r&&t.all[r])return!0;return!1},r.schemaRefOrVal=function({topSchemaRef:e,schemaPath:t},r,a,s){if(!s){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return(0,c._)`${r}`}return(0,c._)`${e}${t}${(0,c.getProperty)(a)}`},r.unescapeFragment=function(e){return i(decodeURIComponent(e))},r.escapeFragment=function(e){return encodeURIComponent(n(e))},r.escapeJsonPointer=n,r.unescapeJsonPointer=i,r.eachItem=function(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)},r.mergeEvaluated={props:l({mergeNames:(e,t,r)=>e.if((0,c._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,c._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,c._)`${r} || {}`).code((0,c._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,c._)`${r} !== true`,()=>{!0===t?e.assign(r,!0):(e.assign(r,(0,c._)`${r} || {}`),u(e,r,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:d}),items:l({mergeNames:(e,t,r)=>e.if((0,c._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,c._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,c._)`${r} !== true`,()=>e.assign(r,!0===t||(0,c._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},r.evaluatedPropsToName=d,r.setEvaluated=u;const m={};var p;function f(e,t,r=e.opts.strictSchema){if(r){if(t="strict mode: "+t,!0===r)throw new Error(t);e.self.logger.warn(t)}}r.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:m[t.code]||(m[t.code]=new a._Code(t.code))})},(e=p||(r.Type=p={}))[e.Num=0]="Num",e[e.Str=1]="Str",r.getErrorPath=function(e,t,r){return e instanceof c.Name?(t=t===p.Num,r?t?(0,c._)`"[" + ${e} + "]"`:(0,c._)`"['" + ${e} + "']"`:t?(0,c._)`"/" + ${e}`:(0,c._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`):r?(0,c.getProperty)(e).toString():"/"+n(e)},r.checkStrictMode=f},{"./codegen":2,"./codegen/code":1}],11:[function(e,t,r){"use strict";function a(t,e){return e.rules.some(e=>s(t,e))}function s(t,e){return void 0!==t[e.keyword]||(null==(e=e.definition.implements)?void 0:e.some(e=>void 0!==t[e]))}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldUseRule=r.shouldUseGroup=r.schemaHasRulesForType=void 0,r.schemaHasRulesForType=function({schema:e,self:t},r){return(t=t.RULES.types[r])&&!0!==t&&a(e,t)},r.shouldUseGroup=a,r.shouldUseRule=s},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.boolOrEmptySchema=r.topBoolOrEmptySchema=void 0;const s=e("../errors"),o=e("../codegen"),n=e("../names"),i={message:"boolean schema is false"};function c(e,t){var{gen:r,data:a}=e,r={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,s.reportError)(r,i,void 0,t)}r.topBoolOrEmptySchema=function(e){const{gen:t,schema:r,validateName:a}=e;!1===r?c(e,!1):"object"==typeof r&&!0===r.$async?t.return(n.default.data):(t.assign((0,o._)`${a}.errors`,null),t.return(!0))},r.boolOrEmptySchema=function(e,t){const{gen:r,schema:a}=e;!1===a?(r.var(t,!1),c(e)):r.var(t,!0)}},{"../codegen":2,"../errors":4,"../names":6}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.reportTypeError=r.checkDataTypes=r.checkDataType=r.coerceAndCheckDataType=r.getJSONTypes=r.getSchemaTypes=r.DataType=void 0;const a=e("../rules"),n=e("./applicability"),s=e("../errors"),m=e("../codegen"),i=e("../util");var c;function o(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(a.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}(e=c||(r.DataType=c={}))[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong",r.getSchemaTypes=function(e){const t=o(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},r.getJSONTypes=o,r.coerceAndCheckDataType=function(l,d){const{gen:e,data:t,opts:r}=l,u=(o=d,(a=r.coerceTypes)?o.filter(e=>p.has(e)||"array"===a&&"array"===e):[]);var a,s,o=0<d.length&&!(0===u.length&&1===d.length&&(0,n.schemaHasRulesForType)(l,d[0]));return o&&(s=f(d,t,r.strictNumbers,c.Wrong),e.if(s,()=>{if(u.length){var s=l,e=d,t=u;const{gen:o,data:n,opts:r}=s,a=o.let("dataType",(0,m._)`typeof ${n}`),i=o.let("coerced",(0,m._)`undefined`);"array"===r.coerceTypes&&o.if((0,m._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,()=>o.assign(n,(0,m._)`${n}[0]`).assign(a,(0,m._)`typeof ${n}`).if(f(e,n,r.strictNumbers),()=>o.assign(i,n))),o.if((0,m._)`${i} !== undefined`);for(const c of t)(p.has(c)||"array"===c&&"array"===r.coerceTypes)&&!function(e){switch(e){case"string":return o.elseIf((0,m._)`${a} == "number" || ${a} == "boolean"`).assign(i,(0,m._)`"" + ${n}`).elseIf((0,m._)`${n} === null`).assign(i,(0,m._)`""`);case"number":return o.elseIf((0,m._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(i,(0,m._)`+${n}`);case"integer":return o.elseIf((0,m._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(i,(0,m._)`+${n}`);case"boolean":return o.elseIf((0,m._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(i,!1).elseIf((0,m._)`${n} === "true" || ${n} === 1`).assign(i,!0);case"null":return o.elseIf((0,m._)`${n} === "" || ${n} === 0 || ${n} === false`),o.assign(i,null);case"array":o.elseIf((0,m._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(i,(0,m._)`[${n}]`)}}(c);o.else(),h(s),o.endIf(),o.if((0,m._)`${i} !== undefined`,()=>{var e,t,r,a;o.assign(n,i),[{gen:e,parentData:t,parentDataProperty:r},a]=[s,i],e.if((0,m._)`${t} !== undefined`,()=>e.assign((0,m._)`${t}[${r}]`,a))})}else h(l)})),o};const p=new Set(["string","number","integer","boolean","null"]);function l(e,t,r,a=c.Correct){var s=a===c.Correct?m.operators.EQ:m.operators.NEQ;let o;switch(e){case"null":return(0,m._)`${t} ${s} null`;case"array":o=(0,m._)`Array.isArray(${t})`;break;case"object":o=(0,m._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=n((0,m._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=n();break;default:return(0,m._)`typeof ${t} ${s} ${e}`}return a===c.Correct?o:(0,m.not)(o);function n(e=m.nil){return(0,m.and)((0,m._)`typeof ${t} == "number"`,e,r?(0,m._)`isFinite(${t})`:m.nil)}}function f(e,t,r,a){if(1===e.length)return l(e[0],t,r,a);let s;const o=(0,i.toHash)(e);o.array&&o.object?(e=(0,m._)`typeof ${t} != "object"`,s=o.null?e:(0,m._)`!${t} || ${e}`,delete o.null,delete o.array,delete o.object):s=m.nil,o.number&&delete o.integer;for(const n in o)s=(0,m.and)(s,l(n,t,r,a));return s}r.checkDataType=l,r.checkDataTypes=f;const d={message:({schema:e})=>"must be "+e,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,m._)`{type: ${e}}`:(0,m._)`{type: ${t}}`};function h(e){e=function(e){var{gen:t,data:r,schema:a}=e,s=(0,i.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:s,schemaValue:s,parentSchema:a,params:{},it:e}}(e);(0,s.reportError)(e,d)}r.reportTypeError=h},{"../codegen":2,"../errors":4,"../rules":9,"../util":10,"./applicability":11}],14:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assignDefaults=void 0;const i=e("../codegen"),c=e("../util");function o(e,t,r){const{gen:a,compositeRule:s,data:o,opts:n}=e;if(void 0!==r){t=(0,i._)`${o}${(0,i.getProperty)(t)}`;if(s)(0,c.checkStrictMode)(e,"default is ignored for: "+t);else{let e=(0,i._)`${t} === undefined`;"empty"===n.useDefaults&&(e=(0,i._)`${e} || ${t} === null || ${t} === ""`),a.if(e,(0,i._)`${t} = ${(0,i.stringify)(r)}`)}}}r.assignDefaults=function(r,e){const{properties:t,items:a}=r.schema;if("object"===e&&t)for(const s in t)o(r,s,t[s].default);else"array"===e&&Array.isArray(a)&&a.forEach((e,t)=>o(r,t,e.default))}},{"../codegen":2,"../util":10}],15:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=r.KeywordCxt=r.validateFunctionCode=void 0;const l=e("./boolSchema"),a=e("./dataType"),k=e("./applicability"),N=e("./dataType"),o=e("./defaults"),s=e("./keyword"),n=e("./subschema"),j=e("../codegen"),O=e("../names"),d=e("../resolve"),I=e("../util"),i=e("../errors");function c({gen:r,validateName:e,schema:a,schemaEnv:t,opts:s},o){s.code.es5?r.func(e,(0,j._)`${O.default.data}, ${O.default.valCxt}`,t.$async,()=>{var e,t;r.code((0,j._)`"use strict"; ${u(a,s)}`),t=s,(e=r).if(O.default.valCxt,()=>{e.var(O.default.instancePath,(0,j._)`${O.default.valCxt}.${O.default.instancePath}`),e.var(O.default.parentData,(0,j._)`${O.default.valCxt}.${O.default.parentData}`),e.var(O.default.parentDataProperty,(0,j._)`${O.default.valCxt}.${O.default.parentDataProperty}`),e.var(O.default.rootData,(0,j._)`${O.default.valCxt}.${O.default.rootData}`),t.dynamicRef&&e.var(O.default.dynamicAnchors,(0,j._)`${O.default.valCxt}.${O.default.dynamicAnchors}`)},()=>{e.var(O.default.instancePath,(0,j._)`""`),e.var(O.default.parentData,(0,j._)`undefined`),e.var(O.default.parentDataProperty,(0,j._)`undefined`),e.var(O.default.rootData,O.default.data),t.dynamicRef&&e.var(O.default.dynamicAnchors,(0,j._)`{}`)}),r.code(o)}):r.func(e,(0,j._)`${O.default.data}, ${e=s,(0,j._)`{${O.default.instancePath}="", ${O.default.parentData}, ${O.default.parentDataProperty}, ${O.default.rootData}=${O.default.data}${e.dynamicRef?(0,j._)`, ${O.default.dynamicAnchors}={}`:j.nil}}={}`}`,t.$async,()=>r.code(u(a,s)).code(o))}function u(e,t){e="object"==typeof e&&e[t.schemaId];return e&&(t.code.source||t.code.process)?(0,j._)`/*# sourceURL=${e} */`:j.nil}function m(e,t){if(f(e)&&($(e),p(e))){var r=e,a=t;const{schema:n,gen:i,opts:c}=r;c.$comment&&n.$comment&&w(r);var s=r,o=s.schema[s.opts.schemaId],s=(o&&(s.baseId=(0,d.resolveUrl)(s.opts.uriResolver,s.baseId,o)),r);if(s.schema.$async&&!s.schemaEnv.$async)throw new Error("async schema in sync schema");o=i.const("_errs",O.default.errors);_(r,o),i.var(a,(0,j._)`${o} === ${O.default.errors}`)}else(0,l.boolOrEmptySchema)(e,t)}function p({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const r in e)if(t.RULES.all[r])return 1}function f(e){return"boolean"!=typeof e.schema}function $(e){(0,I.checkUnknownRules)(e);{const{schema:t,errSchemaPath:r,opts:a,self:s}=e;return void(t.$ref&&a.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`))}}function _(e,t){if(e.opts.jtd)return h(e,[],!1,t);var r=(0,a.getSchemaTypes)(e.schema);h(e,r,!(0,a.coerceAndCheckDataType)(e,r),t)}function w({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:s}){r=r.$comment;!0===s.$comment?e.code((0,j._)`${O.default.self}.logger.log(${r})`):"function"==typeof s.$comment&&(s=(0,j.str)`${a}/$comment`,a=e.scopeValue("root",{ref:t.root}),e.code((0,j._)`${O.default.self}.opts.$comment(${r}, ${s}, ${a}.schema)`))}function h(t,r,a,s){const{gen:o,schema:n,data:i,allErrors:c,opts:l,self:e}=t,d=e["RULES"];if(!n.$ref||!l.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(n,d)){if(!l.jtd){var u=t,m=r;if(!u.schemaEnv.meta&&u.opts.strictTypes){var p=u,f=m;if(f.length)if(p.dataTypes.length){f.forEach(e=>{x(p.dataTypes,e)||T(p,`type "${e}" not allowed by context "${p.dataTypes.join(",")}"`)});{var h=p,y=f;const b=[];for(const P of h.dataTypes)x(y,P)?b.push(P):y.includes("integer")&&"number"===P&&b.push("integer");void(h.dataTypes=b)}}else p.dataTypes=f;u.opts.allowUnionTypes||(h=u,1<(f=m).length&&(2!==f.length||!f.includes("null"))&&T(h,"use allowUnionTypes to allow union type keyword"));var v=u,g=u.dataTypes,$=v.self.RULES.all;for(const E in $){var _=$[E];if("object"==typeof _&&(0,k.shouldUseRule)(v.schema,_)){const S=_.definition["type"];S.length&&!S.some(e=>{var t=g;return t.includes(e)||"number"===e&&t.includes("integer")})&&T(v,`missing type "${S.join(",")}" for keyword "${E}"`)}}}}o.block(()=>{for(const e of d.rules)w(e);w(d.post)})}else o.block(()=>R(t,"$ref",d.all.$ref.definition));function w(e){(0,k.shouldUseGroup)(n,e)&&(e.type?(o.if((0,N.checkDataType)(e.type,i,l.strictNumbers)),C(t,e),1===r.length&&r[0]===e.type&&a&&(o.else(),(0,N.reportTypeError)(t)),o.endIf()):C(t,e),c||o.if((0,j._)`${O.default.errors} === ${s||0}`))}}function C(t,r){const{gen:e,schema:a,opts:{useDefaults:s}}=t;s&&(0,o.assignDefaults)(t,r.type),e.block(()=>{for(const e of r.rules)(0,k.shouldUseRule)(a,e)&&R(t,e.keyword,e.definition,r.type)})}function x(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function T(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,I.checkStrictMode)(e,t,e.opts.strictTypes)}r.validateFunctionCode=function(e){if(f(e)&&($(e),p(e))){var h=e;const{schema:y,opts:v,gen:g}=h;c(h,()=>{v.$comment&&y.$comment&&w(h);var e=h,{schema:t,opts:r}=e;if(void 0!==t.default&&r.useDefaults&&r.strictSchema&&(0,I.checkStrictMode)(e,"default is ignored in the schema root"),g.let(O.default.vErrors,null),g.let(O.default.errors,0),v.unevaluated){var a=h;const{gen:c,validateName:l}=a;a.evaluated=c.const("evaluated",(0,j._)`${l}.evaluated`),c.if((0,j._)`${a.evaluated}.dynamicProps`,()=>c.assign((0,j._)`${a.evaluated}.props`,(0,j._)`undefined`)),c.if((0,j._)`${a.evaluated}.dynamicItems`,()=>c.assign((0,j._)`${a.evaluated}.items`,(0,j._)`undefined`))}_(h);{const{gen:d,schemaEnv:u,validateName:m,ValidationError:p,opts:f}=t=h;if(u.$async)d.if((0,j._)`${O.default.errors} === 0`,()=>d.return(O.default.data),()=>d.throw((0,j._)`new ${p}(${O.default.vErrors})`));else{d.assign((0,j._)`${m}.errors`,O.default.vErrors);if(f.unevaluated){var[{gen:s,evaluated:o,props:n,items:i}]=[t];n instanceof j.Name&&s.assign((0,j._)`${o}.props`,n);i instanceof j.Name&&s.assign((0,j._)`${o}.items`,i)}d.return((0,j._)`${O.default.errors} === 0`)}return}})}else c(e,()=>(0,l.topBoolOrEmptySchema)(e))};class y{constructor(e,t,r){if((0,s.validateKeywordUsage)(e,t,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,I.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",b(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(r+" value must be "+JSON.stringify(t.schemaType));("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",O.default.errors))}result(e,t,r){this.failResult((0,j.not)(e),t,r)}failResult(e,t,r){this.gen.if(e),r?r():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,j.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);var t=this["schemaCode"];this.fail((0,j._)`${t} !== undefined && (${(0,j.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t)return this.setParams(t),this._error(e,r),void this.setParams({});this._error(e,r)}_error(e,t){(e?i.reportExtraError:i.reportError)(this,this.def.error,t)}$dataError(){(0,i.reportError)(this,this.def.$dataError||i.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,i.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,r=j.nil){this.gen.block(()=>{this.check$data(e,r),t()})}check$data(e=j.nil,t=j.nil){if(this.$data){const{gen:r,schemaCode:a,schemaType:s,def:o}=this;r.if((0,j.or)((0,j._)`${a} === undefined`,t)),e!==j.nil&&r.assign(e,!0),(s.length||o.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==j.nil&&r.assign(e,!1)),r.else()}}invalid$data(){const{gen:t,schemaCode:r,schemaType:a,def:s,it:o}=this;return(0,j.or)(function(){if(a.length){if(!(r instanceof j.Name))throw new Error("ajv implementation error");var e=Array.isArray(a)?a:[a];return(0,j._)`${(0,N.checkDataTypes)(e,r,o.opts.strictNumbers,N.DataType.Wrong)}`}return j.nil}(),function(){{var e;if(s.validateSchema)return e=t.scopeValue("validate$data",{ref:s.validateSchema}),(0,j._)`!${e}(${r})`}return j.nil}())}subschema(e,t){var r=(0,n.getSubschema)(this.it,e),e=((0,n.extendSubschemaData)(r,this.it,e),(0,n.extendSubschemaMode)(r,e),{...this.it,...r,items:void 0,props:void 0});return m(e,t),e}mergeEvaluated(e,t){const{it:r,gen:a}=this;r.opts.unevaluated&&(!0!==r.props&&void 0!==e.props&&(r.props=I.mergeEvaluated.props(a,e.props,r.props,t)),!0!==r.items&&void 0!==e.items&&(r.items=I.mergeEvaluated.items(a,e.items,r.items,t)))}mergeValidEvaluated(e,t){const{it:r,gen:a}=this;if(r.opts.unevaluated&&(!0!==r.props||!0!==r.items))return a.if(t,()=>this.mergeEvaluated(e,j.Name)),!0}}function R(e,t,r,a){e=new y(e,r,t);"code"in r?r.code(e,a):e.$data&&r.validate?(0,s.funcKeywordCode)(e,r):"macro"in r?(0,s.macroKeywordCode)(e,r):(r.compile||r.validate)&&(0,s.funcKeywordCode)(e,r)}r.KeywordCxt=y;const v=/^\/(?:[^~]|~0|~1)*$/,g=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function b(e,{dataLevel:r,dataNames:t,dataPathArr:a}){let s,o;if(""===e)return O.default.rootData;if("/"===e[0]){if(!v.test(e))throw new Error("Invalid JSON-pointer: "+e);s=e,o=O.default.rootData}else{var n=g.exec(e);if(!n)throw new Error("Invalid JSON-pointer: "+e);e=+n[1];if("#"===(s=n[2])){if(r<=e)throw new Error(c("property/index",e));return a[r-e]}if(r<e)throw new Error(c("data",e));if(o=t[r-e],!s)return o}let i=o;for(const l of s.split("/"))l&&(o=(0,j._)`${o}${(0,j.getProperty)((0,I.unescapeJsonPointer)(l))}`,i=(0,j._)`${i} && ${o}`);return i;function c(e,t){return`Cannot access ${e} ${t} levels up, current level is `+r}}r.getData=b},{"../codegen":2,"../errors":4,"../names":6,"../resolve":8,"../util":10,"./applicability":11,"./boolSchema":12,"./dataType":13,"./defaults":14,"./keyword":16,"./subschema":17}],16:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateKeywordUsage=r.validSchemaType=r.funcKeywordCode=r.macroKeywordCode=void 0;const f=e("../codegen"),h=e("../names"),y=e("../../vocabularies/code"),v=e("../errors");function g(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,f._)`${a.parentData}[${a.parentDataProperty}]`))}function $(e,t,r){if(void 0===r)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof r?{ref:r}:{ref:r,code:(0,f.stringify)(r)})}r.macroKeywordCode=function(e,t){const{gen:r,keyword:a,schema:s,parentSchema:o,it:n}=e;var t=t.macro.call(n.self,s,o,n),i=$(r,a,t),c=(!1!==n.opts.validateSchema&&n.self.validateSchema(t,!0),r.name("valid"));e.subschema({schema:t,schemaPath:f.nil,errSchemaPath:n.errSchemaPath+"/"+a,topSchemaRef:i,compositeRule:!0},c),e.pass(c,()=>e.error(!0))},r.funcKeywordCode=function(s,o){const{gen:n,keyword:e,schema:t,parentSchema:r,$data:a,it:i}=s;var[c,l]=[i.schemaEnv,o];if(l.async&&!c.$async)throw new Error("async keyword in sync schema");l=!a&&o.compile?o.compile.call(i.self,t,r,i):o.validate;const d=$(n,e,l),u=n.let("valid");function m(e=o.async?(0,f._)`await `:f.nil){var t=i.opts.passContext?h.default.this:h.default.self,r=!("compile"in o&&!a||!1===o.schema);n.assign(u,(0,f._)`${e}${(0,y.callValidateCode)(s,d,t,r)}`,o.modifying)}function p(e){var t;n.if((0,f.not)(null!=(t=o.valid)?t:u),e)}s.block$data(u,function(){if(!1===o.errors)m(),o.modifying&&g(s),p(()=>s.error());else{const a=(o.async?function(){const t=n.let("ruleErrs",null);return n.try(()=>m((0,f._)`await `),e=>n.assign(u,!1).if((0,f._)`${e} instanceof ${i.ValidationError}`,()=>n.assign(t,(0,f._)`${e}.errors`),()=>n.throw(e))),t}:function(){var e=(0,f._)`${d}.errors`;return n.assign(e,null),m(f.nil),e})();o.modifying&&g(s),p(()=>{{var e=s,t=a;const r=e["gen"];return void r.if((0,f._)`Array.isArray(${t})`,()=>{r.assign(h.default.vErrors,(0,f._)`${h.default.vErrors} === null ? ${t} : ${h.default.vErrors}.concat(${t})`).assign(h.default.errors,(0,f._)`${h.default.vErrors}.length`),(0,v.extendErrors)(e)},()=>e.error())}})}}),s.ok(null!=(c=o.valid)?c:u)},r.validSchemaType=function(t,e,r=!1){return!e.length||e.some(e=>"array"===e?Array.isArray(t):"object"===e?t&&"object"==typeof t&&!Array.isArray(t):typeof t==e||r&&void 0===t)},r.validateKeywordUsage=function({schema:t,opts:e,self:r,errSchemaPath:a},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const n=s.dependencies;if(null!==n&&void 0!==n&&n.some(e=>!Object.prototype.hasOwnProperty.call(t,e)))throw new Error(`parent schema must have dependencies of ${o}: `+n.join(","));if(s.validateSchema&&!s.validateSchema(t[o])){o=`keyword "${o}" value is invalid at path "${a}": `+r.errorsText(s.validateSchema.errors);if("log"!==e.validateSchema)throw new Error(o);r.logger.error(o)}}},{"../../vocabularies/code":42,"../codegen":2,"../errors":4,"../names":6}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extendSubschemaMode=r.extendSubschemaData=r.getSubschema=void 0;const m=e("../codegen"),p=e("../util");r.getSubschema=function(e,{keyword:t,schemaProp:r,schema:a,schemaPath:s,errSchemaPath:o,topSchemaRef:n}){if(void 0!==t&&void 0!==a)throw new Error('both "keyword" and "schema" passed, only one allowed');var i;if(void 0!==t)return i=e.schema[t],void 0===r?{schema:i,schemaPath:(0,m._)`${e.schemaPath}${(0,m.getProperty)(t)}`,errSchemaPath:e.errSchemaPath+"/"+t}:{schema:i[r],schemaPath:(0,m._)`${e.schemaPath}${(0,m.getProperty)(t)}${(0,m.getProperty)(r)}`,errSchemaPath:e.errSchemaPath+`/${t}/`+(0,p.escapeFragment)(r)};if(void 0===a)throw new Error('either "keyword" or "schema" must be passed');if(void 0===s||void 0===o||void 0===n)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:s,topSchemaRef:n,errSchemaPath:o}},r.extendSubschemaData=function(t,r,{dataProp:e,dataPropType:a,data:s,dataTypes:o,propertyName:n}){if(void 0!==s&&void 0!==e)throw new Error('both "data" and "dataProp" passed, only one allowed');const i=r["gen"];var c,l,d;function u(e){t.data=e,t.dataLevel=r.dataLevel+1,t.dataTypes=[],r.definedProperties=new Set,t.parentData=r.data,t.dataNames=[...r.dataNames,e]}void 0!==e&&({errorPath:c,dataPathArr:l,opts:d}=r,u(i.let("data",(0,m._)`${r.data}${(0,m.getProperty)(e)}`,!0)),t.errorPath=(0,m.str)`${c}${(0,p.getErrorPath)(e,a,d.jsPropertySyntax)}`,t.parentDataProperty=(0,m._)`${e}`,t.dataPathArr=[...l,t.parentDataProperty]),void 0!==s&&(u(s instanceof m.Name?s:i.let("data",s,!0)),void 0!==n&&(t.propertyName=n)),o&&(t.dataTypes=o)},r.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:s,allErrors:o}){void 0!==a&&(e.compositeRule=a),void 0!==s&&(e.createErrors=s),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}},{"../codegen":2,"../util":10}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=void 0;var a=e("./compile/validate"),s=(Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}}),e("./compile/codegen")),o=(Object.defineProperty(r,"_",{enumerable:!0,get:function(){return s._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return s.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return s.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return s.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return s.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return s.CodeGen}}),e("./runtime/validation_error"));const n=e("./compile/ref_error"),i=e("./compile/rules"),l=e("./compile"),c=e("./compile/codegen"),d=e("./compile/resolve"),u=e("./compile/validate/dataType"),m=e("./compile/util"),p=e("./refs/data.json"),f=e("./runtime/uri"),h=(e,t)=>new RegExp(e,t),y=(h.code="new RegExp",["removeAdditional","useDefaults","coerceTypes"]),v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},$={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...(t=e,o=t.strict,r=!0===(r=null==(r=t.code)?void 0:r.optimize)||void 0===r?1:r||0,s=null!=(s=null==(s=t.code)?void 0:s.regExp)?s:h,a=null!=(a=t.uriResolver)?a:f.default,{strictSchema:null==(n=null!=(n=t.strictSchema)?n:o)||n,strictNumbers:null==(n=null!=(n=t.strictNumbers)?n:o)||n,strictTypes:null!=(n=null!=(n=t.strictTypes)?n:o)?n:"log",strictTuples:null!=(n=null!=(n=t.strictTuples)?n:o)?n:"log",strictRequired:null!=(n=null!=(n=t.strictRequired)?n:o)&&n,code:t.code?{...t.code,optimize:r,regExp:s}:{optimize:r,regExp:s},loopRequired:null!=(o=t.loopRequired)?o:200,loopEnum:null!=(n=t.loopEnum)?n:200,meta:null==(r=t.meta)||r,messages:null==(s=t.messages)||s,inlineRefs:null==(o=t.inlineRefs)||o,schemaId:null!=(n=t.schemaId)?n:"$id",addUsedSchema:null==(r=t.addUsedSchema)||r,validateSchema:null==(s=t.validateSchema)||s,validateFormats:null==(o=t.validateFormats)||o,unicodeRegExp:null==(n=t.unicodeRegExp)||n,int32range:null==(r=t.int32range)||r,uriResolver:a})};var t,r,a,{es5:s,lines:o}=this.opts.code,n=(this.scope=new c.ValueScope({scope:{},prefixes:v,es5:s,lines:o}),this.logger=function(e){if(!1===e)return P;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger),e.validateFormats);e.validateFormats=!1,this.RULES=(0,i.getRules)(),w.call(this,g,e,"NOT SUPPORTED"),w.call(this,$,e,"DEPRECATED","warn"),this._metaOpts=function(){const e={...this.opts};for(const t of y)delete e[t];return e}.call(this),e.formats&&function(){for(const t in this.opts.formats){var e=this.opts.formats[t];e&&this.addFormat(t,e)}}.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&function(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];r.keyword||(r.keyword=t),this.addKeyword(r)}}}.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(){var e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}.call(this),e.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){var{$data:e,meta:t,schemaId:r}=this.opts;let a=p;"id"===r&&((a={...p}).id=a.$id,delete a.$id),t&&e&&this.addMetaSchema(a,a[r],!1)}defaultMeta(){var{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error(`no schema with key or ref "${e}"`)}else r=this.compile(e);e=r(t);return"$async"in r||(this.errors=r.errors),e}compile(e,t){e=this._addSchema(e,t);return e.validate||this._compileSchemaEnv(e)}compileAsync(e,r){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const a=this.opts["loadSchema"];return t.call(this,e,r);async function t(e,t){await s.call(this,e.$schema);e=this._addSchema(e,t);return e.validate||o.call(this,e)}async function s(e){e&&!this.getSchema(e)&&await t.call(this,{$ref:e},!0)}async function o(t){try{return this._compileSchemaEnv(t)}catch(e){if(e instanceof n.default)return function({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}.call(this,e),await async function(e){var t=await async function(e){var t=this._loading[e];if(t)return t;try{return await(this._loading[e]=a(e))}finally{delete this._loading[e]}}.call(this,e);this.refs[e]||await s.call(this,t.$schema);this.refs[e]||this.addSchema(t,e,r)}.call(this,e.missingSchema),o.call(this,t);throw e}}}addSchema(e,t,r,a=this.opts.validateSchema){if(Array.isArray(e)){for(const n of e)this.addSchema(n,void 0,r,a);return this}let s;if("object"==typeof e){var o=this.opts["schemaId"];if(void 0!==(s=e[o])&&"string"!=typeof s)throw new Error(`schema ${o} must be string`)}return t=(0,d.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,r,t,a,!0),this}addMetaSchema(e,t,r=this.opts.validateSchema){return this.addSchema(e,t,!0,r),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let r;if(void 0!==(r=e.$schema)&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),!(this.errors=null);e=this.validate(r,e);if(!e&&t){t="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(t);this.logger.error(t)}return e}getSchema(e){let t;for(;"string"==typeof(t=b.call(this,e));)e=t;if(void 0===t){var r=this.opts["schemaId"],r=new l.SchemaEnv({schema:{},schemaId:r});if(!(t=l.resolveSchema.call(this,r,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":var t=b.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this;case"object":this._cache.delete(e);t=e[this.opts.schemaId];return t&&(t=(0,d.normalizeId)(t),delete this.schemas[t],delete this.refs[t]),this;default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if("string"==typeof e)r=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=r);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(t=e,r=t.keyword,Array.isArray(r)&&!r.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(!function(e,t){const r=this["RULES"];if((0,m.eachItem)(e,e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!E.test(e))throw new Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}.call(this,r,t),!t)return(0,m.eachItem)(r,e=>S.call(this,e)),this;!function(e){let t=e["metaSchema"];void 0!==t&&(e.$data&&this.opts.$data&&(t=N(t)),e.validateSchema=this.compile(t,!0))}.call(this,t);const a={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,m.eachItem)(r,0===a.type.length?e=>S.call(this,e,a):t=>a.type.forEach(e=>S.call(this,t,a,e))),this}getKeyword(e){e=this.RULES.all[e];return"object"==typeof e?e.definition:!!e}removeKeyword(t){const e=this["RULES"];delete e.keywords[t],delete e.all[t];for(const a of e.rules){var r=a.rules.findIndex(e=>e.keyword===t);0<=r&&a.rules.splice(r,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:r=", ",dataVar:t="data"}={}){return e&&0!==e.length?e.map(e=>""+t+e.instancePath+" "+e.message).reduce((e,t)=>e+r+t):"No errors"}$dataMetaSchema(t,e){var r=this.RULES.all;t=JSON.parse(JSON.stringify(t));for(const o of e){let e=t;for(const n of o.split("/").slice(1))e=e[n];for(const i in r){var a,s=r[i];"object"==typeof s&&(s=s.definition["$data"],a=e[i],s&&a&&(e[i]=N(a)))}}return t}_removeAllSchemas(e,t){for(const a in e){var r=e[a];t&&!t.test(a)||("string"==typeof r?delete e[a]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[a]))}}_addSchema(e,t,r,a=this.opts.validateSchema,s=this.opts.addUsedSchema){let o;var n=this.opts["schemaId"];if("object"==typeof e)o=e[n];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;r=(0,d.normalizeId)(o||r);var c=d.getSchemaRefs.call(this,e,r);return i=new l.SchemaEnv({schema:e,schemaId:n,meta:t,baseId:r,localRefs:c}),this._cache.set(i.schema,i),s&&!r.startsWith("#")&&(r&&this._checkUnique(r),this.refs[r]=i),a&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),e.validate)return e.validate;throw new Error("ajv implementation error")}_compileMetaSchema(e){var t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function w(e,t,r,a="error"){for(const o in e){var s=o;s in t&&this.logger[a](`${r}: option ${o}. `+e[s])}}function b(e){return e=(0,d.normalizeId)(e),this.schemas[e]||this.refs[e]}_.ValidationError=o.default,_.MissingRefError=n.default,r.default=_;const P={log(){},warn(){},error(){}};const E=/^[a-z_$][a-z0-9_$:-]*$/i;function S(e,t,r){var a=null==t?void 0:t.post;if(r&&a)throw new Error('keyword with "post" flag cannot have "type"');const s=this["RULES"];let o=a?s.post:s.rules.find(({type:e})=>e===r);o||(o={type:r,rules:[]},s.rules.push(o)),s.keywords[e]=!0,t&&(a={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}},t.before?function(e,t,r){var a=e.rules.findIndex(e=>e.keyword===r);0<=a?e.rules.splice(a,0,t):(e.rules.push(t),this.logger.warn(`rule ${r} is not defined`))}.call(this,o,a,t.before):o.rules.push(a),s.all[e]=a,null!=(e=t.implements)&&e.forEach(e=>this.addKeyword(e)))}const k={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function N(e){return{anyOf:[e,k]}}},{"./compile":5,"./compile/codegen":2,"./compile/ref_error":7,"./compile/resolve":8,"./compile/rules":9,"./compile/util":10,"./compile/validate":15,"./compile/validate/dataType":13,"./refs/data.json":19,"./runtime/uri":23,"./runtime/validation_error":24}],19:[function(e,t,r){t.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],20:[function(e,t,r){t.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("fast-deep-equal");a.code='require("ajv/dist/runtime/equal").default',r.default=a},{"fast-deep-equal":63}],22:[function(e,t,r){"use strict";function a(e){var t=e.length;let r=0,a=0,s;for(;a<t;)r++,55296<=(s=e.charCodeAt(a++))&&s<=56319&&a<t&&56320==(64512&(s=e.charCodeAt(a)))&&a++;return r}Object.defineProperty(r,"__esModule",{value:!0}),(r.default=a).code='require("ajv/dist/runtime/ucs2length").default'},{}],23:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("fast-uri");a.code='require("ajv/dist/runtime/uri").default',r.default=a},{"fast-uri":64}],24:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class a extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}r.default=a},{}],25:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateAdditionalItems=void 0;const l=e("../../compile/codegen"),d=e("../../compile/util");e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,l.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,l._)`{limit: ${e}}`},code(e){var{parentSchema:t,it:r}=e,t=t["items"];Array.isArray(t)?a(e,t):(0,d.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas')}};function a(r,e){const{gen:a,schema:t,data:s,keyword:o,it:n}=r,i=(n.items=!0,a.const("len",(0,l._)`${s}.length`));if(!1===t)r.setParams({len:e.length}),r.pass((0,l._)`${i} <= ${e.length}`);else if("object"==typeof t&&!(0,d.alwaysValidSchema)(n,t)){const c=a.var("valid",(0,l._)`${i} <= ${e.length}`);a.if((0,l.not)(c),()=>{var t=c;a.forRange("i",e.length,i,e=>{r.subschema({keyword:o,dataProp:e,dataPropType:d.Type.Num},t),n.allErrors||a.if((0,l.not)(t),()=>a.break())})}),r.ok(c)}}r.validateAdditionalItems=a,r.default=e},{"../../compile/codegen":2,"../../compile/util":10}],26:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const f=e("../code"),h=e("../../compile/codegen"),y=e("../../compile/names"),v=e("../../compile/util");r.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,h._)`{additionalProperty: ${e.additionalProperty}}`},code(a){const{gen:s,schema:r,parentSchema:o,data:t,errsCount:e,it:n}=a;if(!e)throw new Error("ajv implementation error");const{allErrors:i,opts:c}=n;if(n.props=!0,"all"===c.removeAdditional||!(0,v.alwaysValidSchema)(n,r)){const m=(0,f.allSchemaProperties)(o.properties),p=(0,f.allSchemaProperties)(o.patternProperties);function l(e){s.code((0,h._)`delete ${t}[${e}]`)}function d(e){var t;{if(!("all"===c.removeAdditional||c.removeAdditional&&!1===r))return!1===r?(a.setParams({additionalProperty:e}),a.error(),void(i||s.break())):void("object"!=typeof r||(0,v.alwaysValidSchema)(n,r)||(t=s.name("valid"),"failing"===c.removeAdditional?(u(e,t,!1),s.if((0,h.not)(t),()=>{a.reset(),l(e)})):(u(e,t),i||s.if((0,h.not)(t),()=>s.break()))));l(e)}}function u(e,t,r){e={keyword:"additionalProperties",dataProp:e,dataPropType:v.Type.Str};!1===r&&Object.assign(e,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(e,t)}s.forIn("key",t,e=>{m.length||p.length?s.if(function(t){let e;{var r;e=8<m.length?(r=(0,v.schemaRefOrVal)(n,o.properties,"properties"),(0,f.isOwnProperty)(s,r,t)):m.length?(0,h.or)(...m.map(e=>(0,h._)`${t} === ${e}`)):h.nil}p.length&&(e=(0,h.or)(e,...p.map(e=>(0,h._)`${(0,f.usePattern)(a,e)}.test(${t})`)));return(0,h.not)(e)}(e),()=>d(e)):d(e)}),a.ok((0,h._)`${e} === ${y.default.errors}`)}}}},{"../../compile/codegen":2,"../../compile/names":6,"../../compile/util":10,"../code":42}],27:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/util");r.default={keyword:"allOf",schemaType:"array",code(r){const{gen:e,schema:t,it:a}=r;if(!Array.isArray(t))throw new Error("ajv implementation error");const s=e.name("valid");t.forEach((e,t)=>{(0,o.alwaysValidSchema)(a,e)||(e=r.subschema({keyword:"allOf",schemaProp:t},s),r.ok(s),r.mergeEvaluated(e))})}}},{"../../compile/util":10}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:e("../code").validateUnion,error:{message:"must match a schema in anyOf"}};r.default=e},{"../code":42}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const f=e("../../compile/codegen"),h=e("../../compile/util");r.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,f.str)`must contain at least ${e} valid item(s)`:(0,f.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,f._)`{minContains: ${e}}`:(0,f._)`{minContains: ${e}, maxContains: ${t}}`},code(a){const{gen:s,schema:e,parentSchema:t,data:r,it:o}=a;let n,i;var{minContains:c,maxContains:l}=t;o.opts.next?(n=void 0===c?1:c,i=l):n=1;const d=s.const("len",(0,f._)`${r}.length`);if(a.setParams({min:n,max:i}),void 0===i&&0===n)(0,h.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');else{if(void 0!==i&&n>i)return(0,h.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),void a.fail();if((0,h.alwaysValidSchema)(o,e)){let e=(0,f._)`${d} >= ${n}`;return void 0!==i&&(e=(0,f._)`${e} && ${d} <= ${i}`),void a.pass(e)}o.items=!0;const p=s.name("valid");function u(){const e=s.name("_valid"),t=s.let("count",0);m(e,()=>s.if(e,()=>{var e=t;s.code((0,f._)`${e}++`),void 0===i?s.if((0,f._)`${e} >= ${n}`,()=>s.assign(p,!0).break()):(s.if((0,f._)`${e} > ${i}`,()=>s.assign(p,!1).break()),1===n?s.assign(p,!0):s.if((0,f._)`${e} >= ${n}`,()=>s.assign(p,!0)))}))}function m(t,r){s.forRange("i",0,d,e=>{a.subschema({keyword:"contains",dataProp:e,dataPropType:h.Type.Num,compositeRule:!0},t),r()})}void 0===i&&1===n?m(p,()=>s.if(p,()=>s.break())):0===n?(s.let(p,!0),void 0!==i&&s.if((0,f._)`${r}.length > 0`,u)):(s.let(p,!1),u()),a.result(p,()=>a.reset())}}}},{"../../compile/codegen":2,"../../compile/util":10}],30:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateSchemaDeps=r.validatePropertyDeps=r.error=void 0;const l=e("../../compile/codegen"),c=e("../../compile/util"),d=e("../code");r.error={message:({params:{property:e,depsCount:t,deps:r}})=>{t=1===t?"property":"properties";return(0,l.str)`must have ${t} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:a}})=>(0,l._)`{property: ${e},
    missingProperty: ${a},
    depsCount: ${t},
    deps: ${r}}`};e={keyword:"dependencies",type:"object",schemaType:"object",error:r.error,code(e){var[t,r]=function({schema:e}){var t={},r={};for(const a in e)if("__proto__"!==a){const s=Array.isArray(e[a])?t:r;s[a]=e[a]}return[t,r]}(e);a(e,t),s(e,r)}};function a(t,e=t.schema){const{gen:r,data:a,it:s}=t;if(0!==Object.keys(e).length){var o,n=r.let("missing");for(const i in e){const c=e[i];0!==c.length&&(o=(0,d.propertyInData)(r,a,i,s.opts.ownProperties),t.setParams({property:i,depsCount:c.length,deps:c.join(", ")}),s.allErrors?r.if(o,()=>{for(const e of c)(0,d.checkReportMissingProp)(t,e)}):(r.if((0,l._)`${o} && (${(0,d.checkMissingProp)(t,c,n)})`),(0,d.reportMissingProp)(t,n),r.else()))}}}function s(t,e=t.schema){const{gen:r,data:a,keyword:s,it:o}=t,n=r.name("valid");for(const i in e)(0,c.alwaysValidSchema)(o,e[i])||(r.if((0,d.propertyInData)(r,a,i,o.opts.ownProperties),()=>{var e=t.subschema({keyword:s,schemaProp:i},n);t.mergeValidEvaluated(e,n)},()=>r.var(n,!0)),t.ok(n))}r.validatePropertyDeps=a,r.validateSchemaDeps=s,r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const d=e("../../compile/codegen"),u=e("../../compile/util");function m(e,t){t=e.schema[t];return void 0!==t&&!(0,u.alwaysValidSchema)(e,t)}r.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,d.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,d._)`{failingKeyword: ${e.ifClause}}`},code(a){const{gen:s,parentSchema:e,it:t}=a;void 0===e.then&&void 0===e.else&&(0,u.checkStrictMode)(t,'"if" without "then" and "else" is ignored');var r,o=m(t,"then"),n=m(t,"else");if(o||n){const c=s.let("valid",!0),l=s.name("_valid");function i(t,r){return()=>{var e=a.subschema({keyword:t},l);s.assign(c,l),a.mergeValidEvaluated(e,c),r?s.assign(r,(0,d._)`${t}`):a.setParams({ifClause:t})}}r=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},l),a.mergeEvaluated(r),a.reset(),o&&n?(r=s.let("ifClause"),a.setParams({ifClause:r}),s.if(l,i("then",r),i("else",r))):o?s.if(l,i("then")):s.if((0,d.not)(l),i("else")),a.pass(c,()=>a.error(!0))}}}},{"../../compile/codegen":2,"../../compile/util":10}],32:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./additionalItems"),s=e("./prefixItems"),o=e("./items"),n=e("./items2020"),i=e("./contains"),c=e("./dependencies"),l=e("./propertyNames"),d=e("./additionalProperties"),u=e("./properties"),m=e("./patternProperties"),p=e("./not"),f=e("./anyOf"),h=e("./oneOf"),y=e("./allOf"),v=e("./if"),g=e("./thenElse");r.default=function(e=!1){const t=[p.default,f.default,h.default,y.default,v.default,g.default,l.default,d.default,c.default,u.default,m.default];return e?t.push(s.default,n.default):t.push(a.default,o.default),t.push(i.default),t}},{"./additionalItems":25,"./additionalProperties":26,"./allOf":27,"./anyOf":28,"./contains":29,"./dependencies":30,"./if":31,"./items":33,"./items2020":34,"./not":35,"./oneOf":36,"./patternProperties":37,"./prefixItems":38,"./properties":39,"./propertyNames":40,"./thenElse":41}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateTuple=void 0;const f=e("../../compile/codegen"),h=e("../../compile/util"),a=e("../code");e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return s(e,"additionalItems",t);r.items=!0,(0,h.alwaysValidSchema)(r,t)||e.ok((0,a.validateArray)(e))}};function s(r,e,t=r.schema){const{gen:a,parentSchema:s,data:o,keyword:n,it:i}=r;var c=s,{opts:l,errSchemaPath:d}=i,u=t.length,c=u===c.minItems&&(u===c.maxItems||!1===c[e]);l.strictTuples&&!c&&(c=`"${n}" is ${u}-tuple, but minItems or maxItems/${e} are not specified or different at path "${d}"`,(0,h.checkStrictMode)(i,c,l.strictTuples)),i.opts.unevaluated&&t.length&&!0!==i.items&&(i.items=h.mergeEvaluated.items(a,t.length,i.items));const m=a.name("valid"),p=a.const("len",(0,f._)`${o}.length`);t.forEach((e,t)=>{(0,h.alwaysValidSchema)(i,e)||(a.if((0,f._)`${p} > ${t}`,()=>r.subschema({keyword:n,schemaProp:t,dataProp:t},m)),r.ok(m))})}r.validateTuple=s,r.default=e},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],34:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("../../compile/codegen"),o=e("../../compile/util"),n=e("../code"),i=e("./additionalItems");r.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,a.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,a._)`{limit: ${e}}`},code(e){const{schema:t,parentSchema:r,it:a}=e;var s=r["prefixItems"];a.items=!0,(0,o.alwaysValidSchema)(a,t)||(s?(0,i.validateAdditionalItems)(e,s):e.ok((0,n.validateArray)(e)))}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42,"./additionalItems":25}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/util");r.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;var s;(0,o.alwaysValidSchema)(a,r)?e.fail():(s=t.name("valid"),e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,()=>e.reset(),()=>e.error()))},error:{message:"must NOT be valid"}}},{"../../compile/util":10}],36:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const l=e("../../compile/codegen"),d=e("../../compile/util");r.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,l._)`{passingSchemas: ${e.passing}}`},code(a){const{gen:s,schema:e,parentSchema:t,it:o}=a;if(!Array.isArray(e))throw new Error("ajv implementation error");if(!o.opts.discriminator||!t.discriminator){const r=e,n=s.let("valid",!1),i=s.let("passing",null),c=s.name("_valid");a.setParams({passing:i}),s.block(function(){r.forEach((e,t)=>{let r;(0,d.alwaysValidSchema)(o,e)?s.var(c,!0):r=a.subschema({keyword:"oneOf",schemaProp:t,compositeRule:!0},c),0<t&&s.if((0,l._)`${c} && ${n}`).assign(n,!1).assign(i,(0,l._)`[${i}, ${t}]`).else(),s.if(c,()=>{s.assign(n,!0),s.assign(i,t),r&&a.mergeEvaluated(r,l.Name)})})}),a.result(n,()=>a.reset(),()=>a.error(!0))}}}},{"../../compile/codegen":2,"../../compile/util":10}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const y=e("../code"),v=e("../../compile/codegen"),g=e("../../compile/util"),$=e("../../compile/util");r.default={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:t,data:e,parentSchema:r,it:o}=a;var n=o["opts"];const i=(0,y.allSchemaProperties)(t),c=i.filter(e=>(0,g.alwaysValidSchema)(o,t[e]));if(0!==i.length&&(c.length!==i.length||o.opts.unevaluated&&!0!==o.props)){const u=n.strictSchema&&!n.allowMatchingProperties&&r.properties,m=s.name("valid"),p=(!0===o.props||o.props instanceof v.Name||(o.props=(0,$.evaluatedPropsToName)(s,o.props)),o)["props"];for(const f of i){if(u){l=void 0;var l=f;for(const h in u)new RegExp(l).test(h)&&(0,g.checkStrictMode)(o,`property ${h} matches pattern ${l} (use allowMatchingProperties)`)}o.allErrors?d(f):(s.var(m,!0),d(f),s.if(m))}function d(r){s.forIn("key",e,t=>{s.if((0,v._)`${(0,y.usePattern)(a,r)}.test(${t})`,()=>{var e=c.includes(r);e||a.subschema({keyword:"patternProperties",schemaProp:r,dataProp:t,dataPropType:$.Type.Str},m),o.opts.unevaluated&&!0!==p?s.assign((0,v._)`${p}[${t}]`,!0):e||o.allErrors||s.if((0,v.not)(m),()=>s.break())})})}}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("./items");r.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,a.validateTuple)(e,"items")}},{"./items":33}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const p=e("../../compile/validate"),f=e("../code"),h=e("../../compile/util"),y=e("./additionalProperties");r.default={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:a,data:s,it:o}=t,n=("all"===o.opts.removeAdditional&&void 0===a.additionalProperties&&y.default.code(new p.KeywordCxt(o,y.default,"additionalProperties")),(0,f.allSchemaProperties)(r));for(const d of n)o.definedProperties.add(d);o.opts.unevaluated&&n.length&&!0!==o.props&&(o.props=h.mergeEvaluated.props(e,(0,h.toHash)(n),o.props));var i,c=n.filter(e=>!(0,h.alwaysValidSchema)(o,r[e]));if(0!==c.length){const u=e.name("valid");for(const m of c)i=m,o.opts.useDefaults&&!o.compositeRule&&void 0!==r[i].default?l(m):(e.if((0,f.propertyInData)(e,s,m,o.opts.ownProperties)),l(m),o.allErrors||e.else().var(u,!0),e.endIf()),t.it.definedProperties.add(m),t.ok(u);function l(e){t.subschema({keyword:"properties",schemaProp:e,dataProp:e},u)}}}}},{"../../compile/util":10,"../../compile/validate":15,"../code":42,"./additionalProperties":26}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../../compile/util");r.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,n._)`{propertyName: ${e.propertyName}}`},code(t){const{gen:r,schema:e,data:a,it:s}=t;if(!(0,i.alwaysValidSchema)(s,e)){const o=r.name("valid");r.forIn("key",a,e=>{t.setParams({propertyName:e}),t.subschema({keyword:"propertyNames",data:e,dataTypes:["string"],propertyName:e,compositeRule:!0},o),r.if((0,n.not)(o),()=>{t.error(!0),s.allErrors||r.break()})}),t.ok(o)}}}},{"../../compile/codegen":2,"../../compile/util":10}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=e("../../compile/util");r.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){void 0===t.if&&(0,a.checkStrictMode)(r,`"${e}" without "if" is ignored`)}}},{"../../compile/util":10}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateUnion=r.validateArray=r.usePattern=r.callValidateCode=r.schemaProperties=r.allSchemaProperties=r.noPropertyInData=r.propertyInData=r.isOwnProperty=r.hasPropFunc=r.reportMissingProp=r.checkMissingProp=r.checkReportMissingProp=void 0;const u=e("../compile/codegen"),c=e("../compile/util"),m=e("../compile/names"),n=e("../compile/util");function a(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,u._)`Object.prototype.hasOwnProperty`})}function o(e,t,r){return(0,u._)`${a(e)}.call(${t}, ${r})`}function i(e,t,r,a){var s=(0,u._)`${t}${(0,u.getProperty)(r)} === undefined`;return a?(0,u.or)(s,(0,u.not)(o(e,t,r))):s}function s(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}r.checkReportMissingProp=function(e,t){const{gen:r,data:a,it:s}=e;r.if(i(r,a,t,s.opts.ownProperties),()=>{e.setParams({missingProperty:(0,u._)`${t}`},!0),e.error()})},r.checkMissingProp=function({gen:t,data:r,it:{opts:a}},e,s){return(0,u.or)(...e.map(e=>(0,u.and)(i(t,r,e,a.ownProperties),(0,u._)`${s} = ${e}`)))},r.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},r.hasPropFunc=a,r.isOwnProperty=o,r.propertyInData=function(e,t,r,a){var s=(0,u._)`${t}${(0,u.getProperty)(r)} !== undefined`;return a?(0,u._)`${s} && ${o(e,t,r)}`:s},r.noPropertyInData=i,r.allSchemaProperties=s,r.schemaProperties=function(t,r){return s(r).filter(e=>!(0,c.alwaysValidSchema)(t,r[e]))},r.callValidateCode=function({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:s,errorPath:o},it:n},i,c,l){l=l?(0,u._)`${e}, ${t}, ${a}${s}`:t;const d=[[m.default.instancePath,(0,u.strConcat)(m.default.instancePath,o)],[m.default.parentData,n.parentData],[m.default.parentDataProperty,n.parentDataProperty],[m.default.rootData,m.default.rootData]];return n.opts.dynamicRef&&d.push([m.default.dynamicAnchors,m.default.dynamicAnchors]),e=(0,u._)`${l}, ${r.object(...d)}`,c!==u.nil?(0,u._)`${i}.call(${c}, ${e})`:(0,u._)`${i}(${e})`};const l=(0,u._)`new RegExp`;r.usePattern=function({gen:e,it:{opts:t}},r){var a=t.unicodeRegExp?"u":"";const s=t.code["regExp"],o=s(r,a);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,u._)`${"new RegExp"===s.code?l:(0,n.useFunc)(e,s)}(${r}, ${a})`})},r.validateArray=function(r){const{gen:a,data:s,keyword:o,it:e}=r,n=a.name("valid");if(e.allErrors){const i=a.let("valid",!0);return t(()=>a.assign(i,!1)),i}return a.var(n,!0),t(()=>a.break()),n;function t(t){var e=a.const("len",(0,u._)`${s}.length`);a.forRange("i",0,e,e=>{r.subschema({keyword:o,dataProp:e,dataPropType:c.Type.Num},n),a.if((0,u.not)(n),t)})}},r.validateUnion=function(r){const{gen:a,schema:e,keyword:s,it:t}=r;if(!Array.isArray(e))throw new Error("ajv implementation error");var o=e.some(e=>(0,c.alwaysValidSchema)(t,e));if(!o||t.opts.unevaluated){const n=a.let("valid",!1),i=a.name("_valid");a.block(()=>e.forEach((e,t)=>{t=r.subschema({keyword:s,schemaProp:t,compositeRule:!0},i),a.assign(n,(0,u._)`${n} || ${i}`),t=r.mergeValidEvaluated(t,i);t||a.if((0,u.not)(n))})),r.result(n,()=>r.reset(),()=>r.error(!0))}}},{"../compile/codegen":2,"../compile/names":6,"../compile/util":10}],43:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},{}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./id"),e=e("./ref"),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",a.default,e.default];r.default=a},{"./id":43,"./ref":45}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.callRef=r.getValidate=void 0;const p=e("../../compile/ref_error"),f=e("../code"),h=e("../../compile/codegen"),y=e("../../compile/names"),v=e("../../compile"),g=e("../../compile/util");e={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:a}=e,{baseId:s,schemaEnv:o,validateName:n,opts:i,self:c}=a,l=o["root"];if("#"!==r&&"#/"!==r||s!==l.baseId){var d,u,m=v.resolveRef.call(c,l,s,r);if(void 0===m)throw new p.default(a.opts.uriResolver,s,r);return m instanceof v.SchemaEnv?(d=$(e,u=m),void _(e,d,u,u.$async)):(d=m,u=t.scopeValue("schema",!0===i.code.source?{ref:d,code:(0,h.stringify)(d)}:{ref:d}),m=t.name("valid"),d=e.subschema({schema:d,dataTypes:[],schemaPath:h.nil,topSchemaRef:u,errSchemaPath:r},m),e.mergeEvaluated(d),void e.ok(m))}if(o===l)return _(e,n,o,o.$async);m=t.scopeValue("root",{ref:l});return _(e,(0,h._)`${m}.validate`,l,l.$async)}};function $(e,t){const r=e["gen"];return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,h._)`${r.scopeValue("wrapper",{ref:t})}.validate`}function _(e,t,a,r){const{gen:s,it:o}=e,{allErrors:n,schemaEnv:i,opts:c}=o,l=c.passContext?y.default.this:h.nil;if(r){if(!i.$async)throw new Error("async schema referenced by sync schema");const m=s.let("valid");s.try(()=>{s.code((0,h._)`await ${(0,f.callValidateCode)(e,t,l)}`),u(t),n||s.assign(m,!0)},e=>{s.if((0,h._)`!(${e} instanceof ${o.ValidationError})`,()=>s.throw(e)),d(e),n||s.assign(m,!1)}),e.ok(m)}else e.result((0,f.callValidateCode)(e,t,l),()=>u(t),()=>d(t));function d(e){e=(0,h._)`${e}.errors`;s.assign(y.default.vErrors,(0,h._)`${y.default.vErrors} === null ? ${e} : ${y.default.vErrors}.concat(${e})`),s.assign(y.default.errors,(0,h._)`${y.default.vErrors}.length`)}function u(e){var t,r;o.opts.unevaluated&&(t=null==(t=null==a?void 0:a.validate)?void 0:t.evaluated,!0!==o.props&&(t&&!t.dynamicProps?void 0!==t.props&&(o.props=g.mergeEvaluated.props(s,t.props,o.props)):(r=s.var("props",(0,h._)`${e}.evaluated.props`),o.props=g.mergeEvaluated.props(s,r,o.props,h.Name))),!0!==o.items&&(t&&!t.dynamicItems?void 0!==t.items&&(o.items=g.mergeEvaluated.items(s,t.items,o.items)):(r=s.var("items",(0,h._)`${e}.evaluated.items`),o.items=g.mergeEvaluated.items(s,r,o.items,h.Name))))}}r.getValidate=$,r.callRef=_,r.default=e},{"../../compile":5,"../../compile/codegen":2,"../../compile/names":6,"../../compile/ref_error":7,"../../compile/util":10,"../code":42}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../discriminator/types"),p=e("../../compile"),f=e("../../compile/ref_error"),h=e("../../compile/util");r.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===i.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,n._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},code(r){const{gen:a,data:e,schema:t,parentSchema:l,it:d}=r,u=l["oneOf"];if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=t.propertyName;if("string"!=typeof m)throw new Error("discriminator: requires propertyName");if(t.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const s=a.let("valid",!1),o=a.const("tag",(0,n._)`${e}${(0,n.getProperty)(m)}`);a.if((0,n._)`typeof ${o} == "string"`,()=>{var e=function(){const r={},a=i(l);let s=!0;for(let t=0;t<u.length;t++){let e=u[t];if(null!==e&&void 0!==e&&e.$ref&&!(0,h.schemaHasRulesButRef)(e,d.self.RULES)){var o=e.$ref;if(void 0===(e=(e=p.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,o))instanceof p.SchemaEnv?e.schema:e))throw new f.default(d.opts.uriResolver,d.baseId,o)}var n=null==(o=null===e||void 0===e?void 0:e.properties)?void 0:o[m];if("object"!=typeof n)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);s=s&&(a||i(e)),!function(e,t){if(e.const)c(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`);for(const r of e.enum)c(r,t)}}(n,t)}if(s)return r;throw new Error(`discriminator: "${m}" must be required`);function i({required:e}){return Array.isArray(e)&&e.includes(m)}function c(e,t){if("string"!=typeof e||e in r)throw new Error(`discriminator: "${m}" values must be unique strings`);r[e]=t}}();a.if(!1);for(const t in e)a.elseIf((0,n._)`${o} === ${t}`),a.assign(s,function(e){var t=a.name("valid"),e=r.subschema({keyword:"oneOf",schemaProp:e},t);return r.mergeEvaluated(e,n.Name),t}(e[t]));a.else(),r.error(!1,{discrError:i.DiscrError.Mapping,tag:o,tagName:m}),a.endIf()},()=>r.error(!1,{discrError:i.DiscrError.Tag,tag:o,tagName:m})),r.ok(s)}}},{"../../compile":5,"../../compile/codegen":2,"../../compile/ref_error":7,"../../compile/util":10,"../discriminator/types":47}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DiscrError=void 0,r.DiscrError={Tag:"tag",Mapping:"mapping"}},{}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./core"),s=e("./validation");const o=e("./applicator");var n=e("./format"),e=e("./metadata"),a=[a.default,s.default,(0,o.default)(),n.default,e.metadataVocabulary,e.contentVocabulary];r.default=a},{"./applicator":32,"./core":44,"./format":50,"./metadata":51,"./validation":54}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const w=e("../../compile/codegen");r.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,w.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,w._)`{format: ${e}}`},code(e,t){const{gen:r,data:a,$data:s,schema:o,schemaCode:n,it:i}=e,{opts:c,errSchemaPath:l,schemaEnv:d,self:u}=i;if(c.validateFormats)if(s){const p=r.scopeValue("formats",{ref:u.formats,code:c.code.formats}),f=r.const("fDef",(0,w._)`${p}[${n}]`),h=r.let("fType"),y=r.let("format");r.if((0,w._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>r.assign(h,(0,w._)`${f}.type || "string"`).assign(y,(0,w._)`${f}.validate`),()=>r.assign(h,(0,w._)`"string"`).assign(y,f)),e.fail$data((0,w.or)(!1===c.strictSchema?w.nil:(0,w._)`${n} && !${y}`,function(){var e=d.$async?(0,w._)`(${f}.async ? await ${y}(${a}) : ${y}(${a}))`:(0,w._)`${y}(${a})`,e=(0,w._)`(typeof ${y} == "function" ? ${e} : ${y}.test(${a}))`;return(0,w._)`${y} && ${y} !== true && ${h} === ${t} && !${e}`}()))}else{const v=u.formats[o];if(v){if(!0!==v){const[g,$,_]=function(e){var t=e instanceof RegExp?(0,w.regexpCode)(e):c.code.formats?(0,w._)`${c.code.formats}${(0,w.getProperty)(o)}`:void 0,t=r.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,t]:[e.type||"string",e.validate,(0,w._)`${t}.validate`]}(v);g===t&&e.pass(function(){if("object"!=typeof v||v instanceof RegExp||!v.async)return"function"==typeof $?(0,w._)`${_}(${a})`:(0,w._)`${_}.test(${a})`;if(d.$async)return(0,w._)`await ${_}(${a})`;throw new Error("async format in sync schema")}())}}else{if(!1!==c.strictSchema)throw new Error(m());function m(){return`unknown format "${o}" ignored in schema at path "${l}"`}u.logger.warn(m())}}}}},{"../../compile/codegen":2}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});e=[e("./format").default];r.default=e},{"./format":49}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.contentVocabulary=r.metadataVocabulary=void 0,r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},{}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../../compile/codegen"),i=e("../../compile/util"),c=e("../../runtime/equal");r.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,n._)`{allowedValue: ${e}}`},code(e){var{gen:t,data:r,$data:a,schemaCode:s,schema:o}=e;a||o&&"object"==typeof o?e.fail$data((0,n._)`!${(0,i.useFunc)(t,c.default)}(${r}, ${s})`):e.fail((0,n._)`${o} !== ${r}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const m=e("../../compile/codegen"),p=e("../../compile/util"),f=e("../../runtime/equal");r.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,m._)`{allowedValues: ${e}}`},code(e){const{gen:t,data:s,$data:r,schema:o,schemaCode:a,it:n}=e;if(!r&&0===o.length)throw new Error("enum must have non-empty array");var i=o.length>=n.opts.loopEnum;let c;const l=()=>null!==c&&void 0!==c?c:c=(0,p.useFunc)(t,f.default);let d;if(i||r)d=t.let("valid"),e.block$data(d,function(){t.assign(d,!1),t.forOf("v",a,e=>t.if((0,m._)`${l()}(${s}, ${e})`,()=>t.assign(d,!0).break()))});else{if(!Array.isArray(o))throw new Error("ajv implementation error");const u=t.const("vSchema",a);d=(0,m.or)(...o.map((e,t)=>{var r=u,a=o[t];return"object"==typeof a&&null!==a?(0,m._)`${l()}(${s}, ${r}[${t}])`:(0,m._)`${s} === ${a}`}))}e.pass(d)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/equal":21}],54:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=e("./limitNumber"),s=e("./multipleOf"),o=e("./limitLength"),n=e("./pattern"),i=e("./limitProperties"),c=e("./required"),l=e("./limitItems"),d=e("./uniqueItems"),u=e("./const"),e=e("./enum"),a=[a.default,s.default,o.default,n.default,i.default,c.default,l.default,d.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,e.default];r.default=a},{"./const":52,"./enum":53,"./limitItems":55,"./limitLength":56,"./limitNumber":57,"./limitProperties":58,"./multipleOf":59,"./pattern":60,"./required":61,"./uniqueItems":62}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/codegen");r.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxItems"===e?"more":"fewer";return(0,s.str)`must NOT have ${e} than ${t} items`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a}=e,t="maxItems"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)`${r}.length ${t} ${a}`)}}},{"../../compile/codegen":2}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=e("../../compile/codegen"),n=e("../../compile/util"),i=e("../../runtime/ucs2length");r.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxLength"===e?"more":"fewer";return(0,o.str)`must NOT have ${e} than ${t} characters`},params:({schemaCode:e})=>(0,o._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a,it:s}=e,t="maxLength"===t?o.operators.GT:o.operators.LT,s=!1===s.opts.unicode?(0,o._)`${r}.length`:(0,o._)`${(0,n.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,o._)`${s} ${t} ${a}`)}}},{"../../compile/codegen":2,"../../compile/util":10,"../../runtime/ucs2length":22}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/codegen");e=s.operators;const o={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}};e={message:({keyword:e,schemaCode:t})=>(0,s.str)`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,s._)`{comparison: ${o[e].okStr}, limit: ${t}}`},e={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:e,code(e){var{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,s._)`${r} ${o[t].fail} ${a} || isNaN(${r})`)}};r.default=e},{"../../compile/codegen":2}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=e("../../compile/codegen");r.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){e="maxProperties"===e?"more":"fewer";return(0,s.str)`must NOT have ${e} than ${t} properties`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`},code(e){var{keyword:t,data:r,schemaCode:a}=e,t="maxProperties"===t?s.operators.GT:s.operators.LT;e.fail$data((0,s._)`Object.keys(${r}).length ${t} ${a}`)}}},{"../../compile/codegen":2}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=e("../../compile/codegen");r.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,i.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,i._)`{multipleOf: ${e}}`},code(e){const{gen:t,data:r,schemaCode:a,it:s}=e;var o=s.opts.multipleOfPrecision,n=t.let("res"),o=o?(0,i._)`Math.abs(Math.round(${n}) - ${n}) > 1e-${o}`:(0,i._)`${n} !== parseInt(${n})`;e.fail$data((0,i._)`(${a} === 0 || (${n} = ${r}/${a}, ${o}))`)}}},{"../../compile/codegen":2}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("../code"),i=e("../../compile/codegen");r.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,i.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,i._)`{pattern: ${e}}`},code(e){var{data:t,$data:r,schema:a,schemaCode:s,it:o}=e,o=o.opts.unicodeRegExp?"u":"",r=r?(0,i._)`(new RegExp(${s}, ${o}))`:(0,n.usePattern)(e,a);e.fail$data((0,i._)`!${r}.test(${t})`)}}},{"../../compile/codegen":2,"../code":42}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const v=e("../code"),g=e("../../compile/codegen"),$=e("../../compile/util");r.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,g.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,g._)`{missingProperty: ${e}}`},code(r){const{gen:a,schema:e,schemaCode:s,data:o,$data:t,it:n}=r,i=n["opts"];if(t||0!==e.length){const u=e.length>=i.loopRequired;if(n.allErrors)if(u||t)r.block$data(g.nil,d);else for(const m of e)(0,v.checkReportMissingProp)(r,m);else{const p=a.let("missing");if(u||t){const f=a.let("valid",!0);r.block$data(f,()=>{var e=p,t=f;r.setParams({missingProperty:e}),a.forOf(e,s,()=>{a.assign(t,(0,v.propertyInData)(a,o,e,i.ownProperties)),a.if((0,g.not)(t),()=>{r.error(),a.break()})},g.nil)}),r.ok(f)}else a.if((0,v.checkMissingProp)(r,e,p)),(0,v.reportMissingProp)(r,p),a.else()}if(i.strictRequired){var c,l=r.parentSchema.properties;const h=r.it["definedProperties"];for(const y of e)void 0!==(null==l?void 0:l[y])||h.has(y)||(c=n.schemaEnv.baseId+n.errSchemaPath,c=`required property "${y}" is not defined at "${c}" (strictRequired)`,(0,$.checkStrictMode)(n,c,n.opts.strictRequired))}function d(){a.forOf("prop",s,e=>{r.setParams({missingProperty:e}),a.if((0,v.noPropertyInData)(a,o,e,i.ownProperties),()=>r.error())})}}}}},{"../../compile/codegen":2,"../../compile/util":10,"../code":42}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const u=e("../../compile/validate/dataType"),m=e("../../compile/codegen"),s=e("../../compile/util"),p=e("../../runtime/equal");r.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,m.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,m._)`{i: ${e}, j: ${t}}`},code(o){const{gen:n,data:i,$data:e,schema:t,parentSchema:r,schemaCode:a,it:c}=o;if(e||t){const l=n.let("valid"),d=r.items?(0,u.getSchemaTypes)(r.items):[];o.block$data(l,function(){const e=n.let("i",(0,m._)`${i}.length`),t=n.let("j");o.setParams({i:e,j:t}),n.assign(l,!0),n.if((0,m._)`${e} > 1`,()=>(function(){return 0<d.length&&!d.some(e=>"object"===e||"array"===e)}()?function(e,t){const r=n.name("item"),a=(0,u.checkDataTypes)(d,r,c.opts.strictNumbers,u.DataType.Wrong),s=n.const("indices",(0,m._)`{}`);n.for((0,m._)`;${e}--;`,()=>{n.let(r,(0,m._)`${i}[${e}]`),n.if(a,(0,m._)`continue`),1<d.length&&n.if((0,m._)`typeof ${r} == "string"`,(0,m._)`${r} += "_"`),n.if((0,m._)`typeof ${s}[${r}] == "number"`,()=>{n.assign(t,(0,m._)`${s}[${r}]`),o.error(),n.assign(l,!1).break()}).code((0,m._)`${s}[${r}] = ${e}`)})}:function(e,t){const r=(0,s.useFunc)(n,p.default),a=n.name("outer");n.label(a).for((0,m._)`;${e}--;`,()=>n.for((0,m._)`${t} = ${e}; ${t}--;`,()=>n.if((0,m._)`${r}(${i}[${e}], ${i}[${t}])`,()=>{o.error(),n.assign(l,!1).break(a)})))})(e,t))},(0,m._)`${a} === false`),o.ok(l)}}}},{"../../compile/codegen":2,"../../compile/util":10,"../../compile/validate/dataType":13,"../../runtime/equal":21}],63:[function(e,t,r){"use strict";t.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,s,o;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(s=a;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=a;0!=s--;){var n=o[s];if(!e(t[n],r[n]))return!1}return!0}return t!=t&&r!=r}},{}],64:[function(e,t,r){"use strict";const{normalizeIPv6:i,normalizeIPv4:c,removeDotSegments:n,recomposeAuthority:l,normalizeComponentEncoding:a}=e("./lib/utils"),d=e("./lib/schemes");function s(e,t,r,a){const s={};return a||(e=p(o(e,r),r),t=p(o(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(s.scheme=t.scheme,s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=n(t.path||""),s.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(s.userinfo=t.userinfo,s.host=t.host,s.port=t.port,s.path=n(t.path||""),s.query=t.query):(t.path?("/"===t.path.charAt(0)?s.path=n(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?s.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:s.path=t.path:s.path="/"+t.path,s.path=n(s.path)),s.query=t.query):(s.path=e.path,void 0!==t.query?s.query=t.query:s.query=e.query),s.userinfo=e.userinfo,s.host=e.host,s.port=e.port),s.scheme=e.scheme),s.fragment=t.fragment,s}function o(t,e){const r={host:t.host,scheme:t.scheme,userinfo:t.userinfo,port:t.port,path:t.path,query:t.query,nid:t.nid,nss:t.nss,uuid:t.uuid,fragment:t.fragment,reference:t.reference,resourceName:t.resourceName,secure:t.secure,error:""},a=Object.assign({},e),s=[],o=d[(a.scheme||r.scheme||"").toLowerCase()];o&&o.serialize&&o.serialize(r,a),void 0!==r.path&&(a.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),void 0!==r.scheme&&(r.path=r.path.split("%3A").join(":")))),"suffix"!==a.reference&&r.scheme&&(s.push(r.scheme),s.push(":"));t=l(r,a);if(void 0!==t&&("suffix"!==a.reference&&s.push("//"),s.push(t),r.path&&"/"!==r.path.charAt(0)&&s.push("/")),void 0!==r.path){let e=r.path;a.absolutePath||o&&o.absolutePath||(e=n(e)),void 0===t&&(e=e.replace(/^\/\//u,"/%2F")),s.push(e)}return void 0!==r.query&&(s.push("?"),s.push(r.query)),void 0!==r.fragment&&(s.push("#"),s.push(r.fragment)),s.join("")}const u=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));const m=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(e,t){const r=Object.assign({},t),a={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};t=-1!==e.indexOf("%");let s=!1;e=(e="suffix"===r.reference?(r.scheme?r.scheme+":":"")+"//"+e:e).match(m);if(e){if(a.scheme=e[1],a.userinfo=e[3],a.host=e[4],a.port=parseInt(e[5],10),a.path=e[6]||"",a.query=e[7],a.fragment=e[8],isNaN(a.port)&&(a.port=e[5]),a.host){e=c(a.host);if(!1===e.isIPV4){const n=i(e.host,{isIPV4:!1});a.host=n.host.toLowerCase(),s=n.isIPV6}else a.host=e.host,s=!0}void 0!==a.scheme||void 0!==a.userinfo||void 0!==a.host||void 0!==a.port||a.path||void 0!==a.query?void 0===a.scheme?a.reference="relative":void 0===a.fragment?a.reference="absolute":a.reference="uri":a.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==a.reference&&(a.error=a.error||"URI is not a "+r.reference+" reference.");const o=d[(r.scheme||a.scheme||"").toLowerCase()];if(!(r.unicodeSupport||o&&o.unicodeSupport)&&a.host&&(r.domainHost||o&&o.domainHost)&&!1===s&&function(r){var a;for(let e=0,t=r.length;e<t;++e)if(126<(a=r.charCodeAt(e))||u[a])return 1}(a.host))try{a.host=URL.domainToASCII(a.host.toLowerCase())}catch(e){a.error=a.error||"Host's domain name can not be converted to ASCII: "+e}o&&(!o||o.skipNormalize)||(t&&void 0!==a.scheme&&(a.scheme=unescape(a.scheme)),t&&void 0!==a.userinfo&&(a.userinfo=unescape(a.userinfo)),t&&void 0!==a.host&&(a.host=unescape(a.host)),void 0!==a.path&&a.path.length&&(a.path=escape(unescape(a.path))),void 0!==a.fragment&&a.fragment.length&&(a.fragment=encodeURI(decodeURIComponent(a.fragment)))),o&&o.parse&&o.parse(a,r)}else a.error=a.error||"URI can not be parsed.";return a}e={SCHEMES:d,normalize:function(e,t){return"string"==typeof e?e=o(p(e,t),t):"object"==typeof e&&(e=p(o(e,t),t)),e},resolve:function(e,t,r){return r=Object.assign({scheme:"null"},r),o(s(p(e,r),p(t,r),r,!0),{...r,skipEscape:!0})},resolveComponents:s,equal:function(e,t,r){return"string"==typeof e?(e=unescape(e),e=o(a(p(e,r),!0),{...r,skipEscape:!0})):"object"==typeof e&&(e=o(a(e,!0),{...r,skipEscape:!0})),"string"==typeof t?(t=unescape(t),t=o(a(p(t,r),!0),{...r,skipEscape:!0})):"object"==typeof t&&(t=o(a(t,!0),{...r,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()},serialize:o,parse:p};t.exports=e,t.exports.default=e,t.exports.fastUri=e},{"./lib/schemes":65,"./lib/utils":67}],65:[function(e,t,r){"use strict";const a=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,o=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function s(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function n(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function i(e){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}var c={scheme:"http",domainHost:!0,parse:n,serialize:i},l={scheme:"ws",domainHost:!0,parse:function(e){return e.secure=s(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(e){var t,r;return e.port!==(s(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName&&([t,r]=e.resourceName.split("?"),e.path=t&&"/"!==t?t:void 0,e.query=r,e.resourceName=void 0),e.fragment=void 0,e}};const d={http:c,https:{scheme:"https",domainHost:c.domainHost,parse:n,serialize:i},ws:l,wss:{scheme:"wss",domainHost:l.domainHost,parse:l.parse,serialize:l.serialize},urn:{scheme:"urn",parse:function(e,t){if(!e.path)return e.error="URN can not be parsed",e;const r=e.path.match(o);if(r){var a=t.scheme||e.scheme||"urn",a=(e.nid=r[1].toLowerCase(),e.nss=r[2],a+":"+(t.nid||e.nid));const s=d[a];e.path=void 0,s&&(e=s.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",a=e.nid.toLowerCase(),r=r+":"+(t.nid||a);const s=d[r],o=e=s?s.serialize(e,t):e;return r=e.nss,o.path=`${a||t.nid}:`+r,t.skipEscape=!0,o},skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:function(e,t){const r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&a.test(r.uuid)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e){const t=e;return t.nss=(e.uuid||"").toLowerCase(),t},skipNormalize:!0}};t.exports=d},{}],66:[function(e,t,r){"use strict";t.exports={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}},{}],67:[function(e,t,r){"use strict";const o=e("./scopedChars")["HEX"];function s(e){if(a(e,".")<3)return{host:e,isIPV4:!1};var[t]=e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[];return t?{host:function(t,r){let a="",s=!0;var o=t.length;for(let e=0;e<o;e++){var n=t[e];"0"===n&&s?(e+1<=o&&t[e+1]===r||e+1===o)&&(a+=n,s=!1):(s=n===r,a+=n)}return a}(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function u(e,t=!1){let r="",a=!0;for(const s of e){if(void 0===o[s])return;(a="0"!==s&&!0===a?!1:a)||(r+=s)}return r=t&&0===r.length?"0":r}function n(e,t=0){if(a(e,":")<2)return{host:e,isIPV6:!1};var r=function(t){let r=0;const a={error:!1,address:"",zone:""},s=[],o=[];let n=!1,i=!1,c=!1;function l(){if(o.length){if(!1===n){var e=u(o);if(void 0===e)return void(a.error=!0);s.push(e)}o.length=0}return 1}for(let e=0;e<t.length;e++){var d=t[e];if("["!==d&&"]"!==d)if(":"===d){if(!0===i&&(c=!0),!l())break;if(r++,s.push(":"),7<r){a.error=!0;break}0<=e-1&&":"===t[e-1]&&(i=!0)}else if("%"!==d)o.push(d);else{if(!l())break;n=!0}}return o.length&&(n?a.zone=o.join(""):c?s.push(o.join("")):s.push(u(o))),a.address=s.join(""),a}(e);if(r.error)return{host:e,isIPV6:!1};{let e=r.address,t=r.address;return r.zone&&(e+="%"+r.zone,t+="%25"+r.zone),{host:e,escapedHost:t,isIPV6:!0}}}function a(t,r){let a=0;for(let e=0;e<t.length;e++)t[e]===r&&a++;return a}const i=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,l=/^\/\.\.(?:\/|$)/u,d=/^\/?(?:.|\n)*?(?=\/|$)/u;t.exports={recomposeAuthority:function(t,e){const r=[];if(void 0!==t.userinfo&&(r.push(t.userinfo),r.push("@")),void 0!==t.host){let e=unescape(t.host);var a=s(e);e=a.isIPV4?a.host:!0===(a=n(a.host,{isIPV4:!1})).isIPV6?`[${a.escapedHost}]`:t.host,r.push(e)}return"number"!=typeof t.port&&"string"!=typeof t.port||(r.push(":"),r.push(String(t.port))),r.length?r.join(""):void 0},normalizeComponentEncoding:function(e,t){const r=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=r(e.scheme)),void 0!==e.userinfo&&(e.userinfo=r(e.userinfo)),void 0!==e.host&&(e.host=r(e.host)),void 0!==e.path&&(e.path=r(e.path)),void 0!==e.query&&(e.query=r(e.query)),void 0!==e.fragment&&(e.fragment=r(e.fragment)),e},removeDotSegments:function(e){const t=[];for(;e.length;)if(e.match(i))e=e.replace(i,"");else if(e.match(c))e=e.replace(c,"/");else if(e.match(l))e=e.replace(l,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(d);if(!r)throw new Error("Unexpected dot segment condition");r=r[0];e=e.slice(r.length),t.push(r)}return t.join("")},normalizeIPv4:s,normalizeIPv6:n,stringArrayToHexStripped:u}},{"./scopedChars":66}],68:[function(e,t,r){"use strict";var h=t.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),function e(t,r,a,s,o,n,i,c,l,d){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var u in r(s,o,n,i,c,l,d),s){var m=s[u];if(Array.isArray(m)){if(u in h.arrayKeywords)for(var p=0;p<m.length;p++)e(t,r,a,m[p],o+"/"+u+"/"+p,n,o,u,s,p)}else if(u in h.propsKeywords){if(m&&"object"==typeof m)for(var f in m)e(t,r,a,m[f],o+"/"+u+"/"+y(f),n,o,u,s,f)}else(u in h.keywords||t.allKeys&&!(u in h.skipKeywords))&&e(t,r,a,m,o+"/"+u,n,o,u,s)}a(s,o,n,i,c,l,d)}}(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function y(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}h.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},h.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},h.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},h.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],ajv:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;var a=e("./core");const s=e("./vocabularies/draft7"),o=e("./vocabularies/discriminator"),n=e("./refs/json-schema-draft-07.json"),i=["/properties"],c="http://json-schema.org/draft-07/schema";class l extends a.default{_addVocabularies(){super._addVocabularies(),s.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){var e;super._addDefaultMetaSchema(),this.opts.meta&&(e=this.opts.$data?this.$dataMetaSchema(n,i):n,this.addMetaSchema(e,c,!1),this.refs["http://json-schema.org/schema"]=c)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}r.Ajv=l,t.exports=r=l,t.exports.Ajv=l,Object.defineProperty(r,"__esModule",{value:!0}),r.default=l;var d=e("./compile/validate"),u=(Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}}),e("./compile/codegen")),m=(Object.defineProperty(r,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}}),e("./runtime/validation_error")),p=(Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return m.default}}),e("./compile/ref_error"));Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},{"./compile/codegen":2,"./compile/ref_error":7,"./compile/validate":15,"./core":18,"./refs/json-schema-draft-07.json":20,"./runtime/validation_error":24,"./vocabularies/discriminator":46,"./vocabularies/draft7":48}]},{},[])("ajv")});